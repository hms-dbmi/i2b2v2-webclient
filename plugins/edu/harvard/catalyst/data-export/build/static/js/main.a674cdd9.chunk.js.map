{"version":3,"sources":["theme.js","actions/index.js","models/StatusInfo.js","models/SaveTable.js","models/TableDefinitionRow.js","models/TableDefinition.js","models/TableListingRow.js","models/TableListing.js","models/MakeRequestDetails.js","defaultState.js","reducers/loadTableSlice.js","reducers/i2b2LibLoadedSlice.js","components/DateModal/index.js","components/DefineTable/index.js","components/DataExport/CustomTabPanel.js","reducers/makeRequestSlice.js","components/MakeRequest/index.js","components/PreviewTable/index.js","components/TableListing/index.js","reducers/listTablesSlice.js","components/TabPanel/index.js","components/LoadTableModal/index.js","reducers/saveTableSlice.js","components/SaveTableModal/index.js","components/DataExport/index.js","sagas/loadTableSaga.js","sagas/saveTableSaga.js","sagas/listTablesSaga.js","sagas/makeRequestSaga.js","initSagas.js","store/getStore.js","reducers/rootReducer.js","App.js","index.js"],"names":["theme","createTheme","palette","primary","main","secondary","error","red","A400","LOAD_DATA_TABLE","concat","SAVE_DATA_TABLE","LIST_TABLES","MAKE_REQUEST","StatusInfo","_ref","arguments","length","undefined","_ref$status","status","_ref$errorMessage","errorMessage","propTypes","PropTypes","string","isRequired","SaveTable","_ref$table","table","_ref$isSaving","isSaving","_ref$statusInfo","statusInfo","object","bool","shape","TableDefinitionRow","_ref$id","id","_ref$order","order","_ref$name","name","_ref$display","display","_ref$locked","locked","_ref$sdxData","sdxData","_ref$dataOption","dataOption","_ref$required","required","_ref$dataType","dataType","number","DATATYPE","POSINTEGER","POSFLOAT","INTEGER","FLOAT","STRING","LARGESTRING","ENUM","generateTableDefRowId","key","Math","floor","random","TableDefinition","_ref$rows","rows","defaultRows","_ref$isFetching","isFetching","arrayOf","TableListingRow","_ref$title","title","_ref$create_date","create_date","_ref$edit_date","edit_date","_ref$column_count","column_count","_ref$user_id","user_id","instanceOf","Date","TableListing","_ref$sharedRows","sharedRows","_ref$userRows","userRows","MakeRequestDetails","_ref$patientSet","patientSet","icon","sdx","_ref$email","email","_ref$comments","comments","_ref$isSubmitting","isSubmitting","defaultState","isI2b2LibLoaded","tableDef","saveTable","tableListing","makeRequestDetails","loadTableSlice","createSlice","initialState","reducers","loadTable","state","loadTableSuccess","payload","tableDefRows","index","Object","entries","forEach","_ref2","_ref3","_slicedToArray","value","tableDefRow","push","concepts","concept","_concept$sdxData$orig","_concept$sdxData$orig2","sdxInfo","sdxKeyValue","textDisplay","origData","xmlOrig","parseXmlOrig","XMLParser","parseFromString","conceptXml","getElementsByTagName","metadataXml","toUpperCase","e","console","log","loadTableError","_ref4","loadStatusConfirmed","handleRowDelete","_ref5","row","filter","r","sort","a","b","x","i","handleRowInsert","_ref6","_ref6$payload","rowIndex","rowId","rowOrdering","map","rowMin","min","apply","_toConsumableArray","rowMax","max","newRowIndex","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","parseInt","_step","_iterator","_createForOfIteratorHelper","s","n","done","err","f","newRow","renderData","handleRowExported","_ref7","_ref7$payload","exported","data","_objectSpread","handleRowAggregation","_ref8","_step2","_ref8$payload","_iterator2","temp","handleRowName","_ref9","_step3","_ref9$payload","_iterator3","handleRowSdx","_ref10","_step4","_ref10$payload","_iterator4","_loadTableSlice$actio","actions","i2b2LibLoadedSlice","updateI2b2LibLoaded","DateModal","open","handleClose","startDate","endDate","setStartDate","setEndDate","saveUpdate","_React$useState","React","useState","_React$useState2","canSave","setCanSave","handleSetStartValue","val","handleSetEndValue","createElement","Dialog","className","onClose","aria-labelledby","aria-describedby","fullWidth","maxWidth","DialogTitle","DialogContent","DialogContentText","Typography","style","textAlign","marginTop","DatePicker","label","views","onError","maxDate","onAccept","disableFuture","sx","minWidth","IconButton","aria-label","size","onClick","ReplayIcon","fontSize","minDate","DialogActions","Button","variant","disabled","currentDateRow","DefineTable","props","dispatch","useDispatch","useSelector","_useSelector","cellModesModel","setCellModesModel","columns","field","headerName","headerClassName","width","sortable","resizable","sortingOrder","hideSortIcons","disableReorder","flex","editable","disableColumnSorting","disableColumnMenu","renderCell","_row$sdxData$renderDa","Tooltip","moreDescriptMinor","renderEditCell","params","GridEditInputCell","assign","inputProps","maxLength","valueSetter","cellValues","txtLab","txtMouseover","func_getDateTxt","ret","txt","mouse","dateRange","start","end","labData","LabValues","ValueType","Value","join","ValueFlag","ValueOperator","ValueLow","ValueHigh","ValueUnit","dateInfo","Link","href","event","handleSetValueClick","handleSetDateClick","type","valueOptions","headerAlign","GridActionsCellItem","LockIcon","CheckIcon","CheckBoxOutlineBlankIcon","DeleteIcon","displayLabValues","i2b2","authorizedTunnel","function","then","res","split","dayjs","handleDateOpen","_React$useState3","_React$useState4","showDate","setDateViz","_React$useState5","_React$useState6","_React$useState7","_React$useState8","conceptDropHandler","ev","rowNum","target","closest","dataset","rowindex","tvNodeState","requestData","ont_max_records","ont_synonym_records","ont_hidden_records","concept_key_value","ajax","ONT","GetTermInfo","xmlString","xmlparser","xmlDoc","toString","valueMetadataList","metadata","finally","i2b2LibLoaded","useEffect","AttachType","setHandlerCustom","window","addEventListener","handleCellClick","useCallback","isEditable","nodeType","currentTarget","contains","prevModel","keys","reduce","acc","_defineProperty","acc2","mode","GridCellModes","View","Edit","preventDefault","handleCellModesModelChange","newModel","handleConfirmStatus","newSdx","newDateRange","$M","$D","$y","DataGrid","background","showCellVerticalBorder","hideFooterSelectedRowCount","columnVisibilityModel","disableColumnSelector","onCellModesModelChange","onCellClick","onCellDoubleClick","sorting","sortModel","autoHeight","hideFooter","isCellEditable","colDef","getCellClassName","trim","Stack","spacing","direction","justifyContent","alignItems","tabChanger","dividers","autoFocus","CustomTabPanel","children","other","_objectWithoutProperties","_excluded","role","hidden","Box","p","makeRequestSlice","updateRequestPatientSet","updateRequestComments","updateRequestEmail","makeRequest","makeRequestSuccess","makeRequestError","makeRequestStatusConfirmed","_makeRequestSlice$act","MakeRequest","_useState","_useState2","isEmailNotValid","setIsEmailNotValid","_useState3","_useState4","emailNotValidError","setEmailNotValidError","_useState5","_useState6","isPatientSetNotValid","setIsPatientSetNotValid","_useState7","_useState8","patientSetNotValidError","setPatientSetNotValidError","isValidRequest","isValid","test","handlePatientSetDrop","displayMakeRequestStatusMsg","statusMsg","useFlexGap","TextField","slotProps","input","readOnly","helperText","InputLabelProps","shrink","defaultValue","onChange","maxRows","minRows","multiline","Backdrop","color","zIndex","drawer","CircularProgress","CustomTooltip","styled","classes","popper","tooltipClasses","tooltip","whiteSpace","PreviewTable","setColumns","setRows","columnNames","aggType","description","renderHeader","sdxDate","newRows","column","time","toLocaleString","updateRows","gutterBottom","canRename","onSelect","onSelectionModelChange","selectionModel","align","height","columnHeaderHeight","density","disableColumnResize","onRowSelectionModelChange","selection","api","getRow","rowSelectionModel","autoPageSize","listTablesSlice","listTables","listTablesSuccess","tableDefs","listTablesError","_listTablesSlice$acti","TabPanel","LoadTableModal","handleSetScreen","tab","setTab","selectedTable","setSelectedTable","addtlProps","flexGrow","boxShadow","Tabs","orientation","newValue","borderRight","borderColor","Tab","disable","saveTableSlice","saveTableSuccess","saveTableError","saveStatusConfirmed","_saveTableSlice$actio","SaveTableModal","selectedTableDef","setSelectedTableDef","saveTableInfo","selectedRows","setSelectedRows","enteredTitle","setEnteredTitle","showOverwrite","setShowOverwrite","_React$useState9","_React$useState10","isNameInvalid","setIsNameInvalid","selectIfNameExists","matchedRows","srow","_srow$title","doSave","tableId","tableTitle","displaySaveStatusMsg","component","textDecoration","float","position","left","onSave","mt","DataExport","selectedTab","setSelectedTab","handleTabChange","newTab","handleSnackbarOpen","document","querySelector","tabProps","showLoad","setLoadViz","showSave","setSaveViz","snackbarShown","setSnackbarViz","snackbarMsg","setSnackbarMsg","msg","handleSnackbarClose","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","severity","borderBottom","AppBar","right","transition","CloudDownloadSharpIcon","CloudUploadSharpIcon","_regeneratorRuntime","t","prototype","hasOwnProperty","o","defineProperty","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","call","h","y","GeneratorFunction","GeneratorFunctionPrototype","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","Error","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","_marked","doLoadTable","_marked2","loadTableSaga","action","formdata","fetchConfig","response","_context","FormData","append","model","user","project","session","body","fetch","endpointUrl","ok","json","put","statusText","t0","_context2","takeLatest","doSaveTable","saveTableSaga","transformTableDef","requiredRows","_action$payload","transformedTableDef","JSON","stringify","success","doListTables","listTablesSaga","parseData","tableList","results","tables","shared","DateTime","fromISO","toJSDate","t1","save","t2","doMakeRequest","makeRequestSaga","dataOptions","store","rootReducers","loadTableReducer","saveTableReducer","listTablesReducer","makeRequestReducer","i2b2LibLoadedReducer","sagaMiddleware","createSagaMiddleware","configureStore","reducer","preloadedState","middleware","getDefaultMiddleware","sagas","run","bind","initSagas","getStore","LocalizationProvider","dateAdapter","AdapterDayjs","ThemeProvider","Provider","variable","username","password","indexOf","lastIndexOf","substr","setTimeout","testCredentials","Request","createRoot","getElementById","render","StrictMode","App"],"mappings":"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","file":"static/js/main.a674cdd9.chunk.js","sourcesContent":["import { red } from '@mui/material/colors';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\n// A custom theme for this app\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: '#556cd6',\r\n        },\r\n        secondary: {\r\n            main: '#19857b',\r\n        },\r\n        error: {\r\n            main: red.A400,\r\n        },\r\n    },\r\n});\r\n\r\nexport default theme;\r\n","export const I2B2_LOADED = \"isI2b2Loaded\";\r\nexport const TABLE_DEF = \"tableDef\";\r\nexport const SAVE_TABLE = \"saveTable\";\r\nexport const TABLE_LISTING = \"tableListing\";\r\nexport const MAKE_REQUEST_DETAILS = \"MAKE_REQUEST_DETAILS\";\r\n\r\nexport const LOAD_DATA_TABLE = `${TABLE_DEF}/loadTable`;\r\nexport const INSERT_DATA_ROW = `${TABLE_DEF}/handleRowInsert`;\r\nexport const SAVE_DATA_TABLE = `${SAVE_TABLE}/saveTable`;\r\nexport const LIST_TABLES = `${TABLE_LISTING}/listTables`;\r\nexport const MAKE_REQUEST = `${MAKE_REQUEST_DETAILS}/makeRequest`;\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const StatusInfo = ({\r\n    status= null,\r\n    errorMessage= null,\r\n} = {}) => ({\r\n    status,\r\n    errorMessage,\r\n});\r\n\r\nStatusInfo.propTypes = {\r\n    status: PropTypes.string.isRequired,\r\n    errorMessage: PropTypes.string,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport {StatusInfo} from \"./StatusInfo\";\r\n\r\nexport const SaveTable = ({\r\n    table = {},\r\n    isSaving= false,\r\n    statusInfo = StatusInfo(),\r\n} = {}) => ({\r\n    table,\r\n    isSaving,\r\n    statusInfo\r\n});\r\n\r\nSaveTable.propTypes = {\r\n    table: PropTypes.object,\r\n    isSaving: PropTypes.bool,\r\n    statusInfo: PropTypes.shape(StatusInfo),\r\n};\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const TableDefinitionRow = ({\r\n    id = 0,\r\n    order = 0,\r\n    name = \"\",\r\n    display = true,\r\n    locked = false,\r\n    sdxData = {},\r\n    dataOption = null,\r\n    required = false,\r\n    dataType= null\r\n\r\n} = {}) => ({\r\n    id,\r\n    order,\r\n    name,\r\n    display,\r\n    locked,\r\n    sdxData,\r\n    dataOption,\r\n    required,\r\n    dataType\r\n});\r\n\r\nTableDefinitionRow.propTypes = {\r\n    id: PropTypes.number,\r\n    name: PropTypes.string,\r\n    order: PropTypes.number,\r\n    display: PropTypes.bool,\r\n    locked: PropTypes.bool,\r\n    sdxData: PropTypes.object,\r\n    dataOption: PropTypes.string,\r\n    required: PropTypes.bool,\r\n    dataType: PropTypes.string\r\n};\r\n\r\nexport const DATATYPE = {\r\n    POSINTEGER: \"PosInteger\",\r\n    POSFLOAT : \"PosFloat\",\r\n    INTEGER: \"Integer\",\r\n    FLOAT: \"Float\",\r\n    STRING: \"String\",\r\n    LARGESTRING: \"LargeString\",\r\n    ENUM: \"Enum\"\r\n};\r\n\r\nexport const generateTableDefRowId = (key) => {\r\n    return key + '[' + Math.floor(Math.random() * 1000 + 999) + ']';\r\n};","import PropTypes from \"prop-types\";\r\nimport {StatusInfo} from \"./StatusInfo\";\r\nimport {TableDefinitionRow} from \"./TableDefinitionRow\";\r\n\r\nexport const TableDefinition = ({\r\n    rows = defaultRows,\r\n    isFetching= false,\r\n    statusInfo = StatusInfo()\r\n} = {}) => ({\r\n    rows,\r\n    isFetching,\r\n    statusInfo\r\n});\r\n\r\nTableDefinition.propTypes = {\r\n    rows: PropTypes.arrayOf(TableDefinitionRow).isRequired,\r\n    isFetching: PropTypes.bool,\r\n    statusInfo: PropTypes.shape(StatusInfo),\r\n};\r\n\r\n\r\nconst defaultRows = [\r\n    TableDefinitionRow({\r\n        \"id\": \"subject_id\",\r\n        \"order\": 1,\r\n        \"name\": \"Participant ID\",\r\n        \"display\": true,\r\n        \"locked\": true,\r\n        \"sdxData\": {\r\n            \"sdxInfo\": {\r\n                \"sdxType\": \"CONCPT\",\r\n                \"sdxKeyName\": \"key\",\r\n                \"sdxControlCell\": \"ONT\",\r\n                \"sdxKeyValue\": \"\\\\\\\\REQUIRED\\\\subject_id\\\\\",\r\n                \"sdxDisplayName\": \"Subject ID\"\r\n            }\r\n        },\r\n        \"dataOption\": \"Value\",\r\n        \"required\": true\r\n    }),\r\n    TableDefinitionRow({\r\n        \"id\": \"gender\",\r\n        \"order\": 2,\r\n        \"name\": \"Gender\",\r\n        \"display\": true,\r\n        \"locked\": false,\r\n        \"sdxData\": {\r\n            \"sdxInfo\": {\r\n                \"sdxType\": \"CONCPT\",\r\n                \"sdxKeyName\": \"key\",\r\n                \"sdxControlCell\": \"ONT\",\r\n                \"sdxKeyValue\": \"\\\\\\\\REQUIRED\\\\gender\\\\\",\r\n                \"sdxDisplayName\": \"Gender\"\r\n            }\r\n        },\r\n        \"dataOption\": \"Value\",\r\n        \"required\": true\r\n    }),\r\n    TableDefinitionRow({\r\n        \"id\": \"age\",\r\n        \"order\": 3,\r\n        \"name\": \"Age\",\r\n        \"display\": true,\r\n        \"locked\": false,\r\n        \"sdxData\": {\r\n            \"sdxInfo\": {\r\n                \"sdxType\": \"CONCPT\",\r\n                \"sdxKeyName\": \"key\",\r\n                \"sdxControlCell\": \"ONT\",\r\n                \"sdxKeyValue\": \"\\\\\\\\REQUIRED\\\\age\\\\\",\r\n                \"sdxDisplayName\": \"Age\"\r\n            }\r\n        },\r\n        \"dataOption\": \"Value\",\r\n        \"required\": true\r\n    }),\r\n    TableDefinitionRow({\r\n        \"id\": \"race\",\r\n        \"order\": 4,\r\n        \"name\": \"Race\",\r\n        \"display\": true,\r\n        \"locked\": false,\r\n        \"sdxData\": {\r\n            \"sdxInfo\": {\r\n                \"sdxType\": \"CONCPT\",\r\n                \"sdxKeyName\": \"key\",\r\n                \"sdxControlCell\": \"ONT\",\r\n                \"sdxKeyValue\": \"\\\\\\\\REQUIRED\\\\race\\\\\",\r\n                \"sdxDisplayName\": \"Race\"\r\n            }\r\n        },\r\n        \"dataOption\": \"Value\",\r\n        \"required\": true\r\n    }),\r\n    TableDefinitionRow({\r\n        \"id\": \"ethnicity\",\r\n        \"order\": 5,\r\n        \"name\": \"Ethnicity\",\r\n        \"display\": true,\r\n        \"locked\": false,\r\n        \"sdxData\": {\r\n            \"sdxInfo\": {\r\n                \"sdxType\": \"CONCPT\",\r\n                \"sdxKeyName\": \"key\",\r\n                \"sdxControlCell\": \"ONT\",\r\n                \"sdxKeyValue\": \"\\\\\\\\REQUIRED\\\\ethnicity\\\\\",\r\n                \"sdxDisplayName\": \"Ethnicity\"\r\n            }\r\n        },\r\n        \"dataOption\": \"Value\",\r\n        \"required\": true\r\n    }),\r\n    TableDefinitionRow({\r\n        \"id\": \"vital_status\",\r\n        \"order\": 6,\r\n        \"name\": \"Deceased\",\r\n        \"display\": true,\r\n        \"locked\": false,\r\n        \"sdxData\": {\r\n            \"sdxInfo\": {\r\n                \"sdxType\": \"CONCPT\",\r\n                \"sdxKeyName\": \"key\",\r\n                \"sdxControlCell\": \"ONT\",\r\n                \"sdxKeyValue\": \"\\\\\\\\REQUIRED\\\\vital_status\\\\\",\r\n                \"sdxDisplayName\": \"Vital Status\"\r\n            }\r\n        },\r\n        \"dataOption\": \"Value\",\r\n        \"required\": true\r\n    })\r\n];\r\n\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport const TableListingRow = ({\r\n    id= null,\r\n    title = null,\r\n    create_date= null,\r\n    edit_date =  null,\r\n    column_count = 0,\r\n    user_id= null\r\n } = {}) => ({\r\n    id,\r\n    title,\r\n    create_date,\r\n    edit_date,\r\n    column_count,\r\n    user_id\r\n});\r\n\r\nTableListingRow.propTypes = {\r\n    id: PropTypes.number.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    create_date: PropTypes.instanceOf(Date).isRequired,\r\n    edit_date: PropTypes.instanceOf(Date).isRequired,\r\n    column_count: PropTypes.number.isRequired,\r\n    user_id: PropTypes.string.isRequired\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport {StatusInfo} from \"./StatusInfo\";\r\nimport {TableListingRow} from \"./TableListingRow\";\r\n\r\nexport const TableListing = ({\r\n    sharedRows = [],\r\n    userRows = [],\r\n    isFetching= false,\r\n    statusInfo = StatusInfo(),\r\n} = {}) => ({\r\n    sharedRows,\r\n    userRows,\r\n    isFetching,\r\n    statusInfo\r\n});\r\n\r\nTableListing.propTypes = {\r\n    sharedRows: PropTypes.arrayOf(TableListingRow),\r\n    userRows: PropTypes.arrayOf(TableListingRow),\r\n    isFetching: PropTypes.bool,\r\n    statusInfo: PropTypes.shape(StatusInfo),\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport {StatusInfo} from \"./StatusInfo\";\r\n\r\nexport const MakeRequestDetails = ({\r\n    patientSet = {\r\n        title: \"\",\r\n        icon: null,\r\n        sdx: {}\r\n    },\r\n    email = \"\",\r\n    comments= \"\",\r\n    isSubmitting= false,\r\n    statusInfo = StatusInfo(),\r\n} = {}) => ({\r\n    patientSet,\r\n    email,\r\n    comments,\r\n    isSubmitting,\r\n    statusInfo\r\n});\r\n\r\nMakeRequestDetails.propTypes = {\r\n    patientSet: PropTypes.object.isRequired,\r\n    email: PropTypes.string,\r\n    comments: PropTypes.string,\r\n    isSubmitting: PropTypes.bool,\r\n    statusInfo: PropTypes.shape(StatusInfo),\r\n};\r\n","import {SaveTable, TableDefinition, TableListing, MakeRequestDetails} from \"./models\";\r\n\r\nexport const defaultState = {\r\n    isI2b2LibLoaded: false,\r\n    tableDef: TableDefinition(),\r\n    saveTable: SaveTable(),\r\n    tableListing: TableListing(),\r\n    makeRequestDetails: MakeRequestDetails()\r\n};","import { createSlice } from '@reduxjs/toolkit'\r\nimport { TABLE_DEF } from \"../actions\";\r\nimport { defaultState } from '../defaultState';\r\nimport {StatusInfo, TableDefinitionRow} from \"../models\";\r\nimport {DATATYPE, generateTableDefRowId} from \"../models/TableDefinitionRow\";\r\nimport XMLParser from 'react-xml-parser';\r\n\r\nexport const loadTableSlice = createSlice({\r\n    name: TABLE_DEF,\r\n    initialState: defaultState.tableDef,\r\n    reducers: {\r\n        loadTable: state => {\r\n            state.isFetching = true;\r\n            state.statusInfo = StatusInfo();\r\n        },\r\n        loadTableSuccess: (state, { payload: table }) => {\r\n            state.isFetching = false;\r\n\r\n            let tableDefRows = [];\r\n            let index=1;\r\n            if(table.required){\r\n                Object.entries(table.required).forEach(([key, value]) => {\r\n                    let tableDefRow = TableDefinitionRow({\r\n                        id: key,\r\n                        order: index,\r\n                        name: value.name,\r\n                        display: value.display,\r\n                        locked: value.locked,\r\n                        dataOption: \"Value\",\r\n                        required: true,\r\n                    });\r\n                    tableDefRows.push(tableDefRow);\r\n                    index++;\r\n                })\r\n            }\r\n\r\n            table.concepts.forEach(concept => {\r\n                let tableDefRow = TableDefinitionRow({\r\n                    id: generateTableDefRowId(concept.sdxData.sdxInfo.sdxKeyValue),\r\n                    order: index,\r\n                    name: concept.textDisplay,\r\n                    locked: concept.locked,\r\n                    dataOption: concept.dataOption,\r\n                    sdxData: concept.sdxData\r\n                });\r\n\r\n                if(concept.sdxData.origData?.xmlOrig?.length > 0){\r\n                    try{\r\n                        const xmlParser = new XMLParser();\r\n                        const parseXmlOrig = xmlParser.parseFromString(concept.sdxData.origData.xmlOrig);\r\n                        if(parseXmlOrig) {\r\n                            let conceptXml = parseXmlOrig.getElementsByTagName('concept');\r\n                            if(conceptXml.length !== 0) {\r\n                                let metadataXml = conceptXml[0].getElementsByTagName('metadataxml');\r\n                                if(metadataXml.length !== 0) {\r\n                                    let dataType = metadataXml[0].getElementsByTagName('DataType');\r\n                                    if(dataType.length !== 0 && DATATYPE[dataType[0].value.toUpperCase()]) {\r\n                                        tableDefRow.dataType = DATATYPE[dataType[0].value.toUpperCase()];\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    catch(e){\r\n                        console.log(\"No value metadata xml found for concept \" + concept.textDisplay);\r\n                    }\r\n                }\r\n                tableDefRows.push(tableDefRow);\r\n                index++;\r\n            });\r\n\r\n            state.rows = tableDefRows;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"SUCCESS\"\r\n            });\r\n        },\r\n        loadTableError: (state, { payload: { errorMessage } }) => {\r\n            state.isFetching = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"FAIL\",\r\n                errorMessage: errorMessage\r\n            });\r\n        },\r\n        loadStatusConfirmed: (state) => {\r\n            state.statusInfo = StatusInfo();\r\n        },\r\n        handleRowDelete:(state, { payload: { row } }) => {\r\n            state.rows = state.rows.filter(r => r.id !== row.id);\r\n            // handle reindexing the order attribute for all items\r\n            state.rows.sort((a,b) => a.order - b.order).forEach((x,i)=> { x.order = i + 1 });\r\n        },\r\n        handleRowInsert:(state, { payload: {rowIndex, rowId, sdx} }) => {\r\n            // get the range in which we can correctly place the row\r\n            const rowOrdering = state.rows.map((row)=>(row.required ? false : row.order)).filter((a)=>a);\r\n            const rowMin = (rowOrdering.length ? Math.min(...rowOrdering) : state.rows.length + 1);\r\n            const rowMax = (rowOrdering.length ? Math.max(...rowOrdering) : state.rows.length + 1);\r\n            let newRowIndex = 0;\r\n            switch (rowIndex) {\r\n                case Number.NEGATIVE_INFINITY:  // this is required, in-band signal sent from drop controller\r\n                    newRowIndex = rowMin;\r\n                    break;\r\n                case Number.POSITIVE_INFINITY:  // this is required, in-band signal sent from drop controller\r\n                    newRowIndex = rowMax + 1;\r\n                    break;\r\n                default:\r\n                    newRowIndex = parseInt(rowIndex) + 1;\r\n                    if (newRowIndex < rowMin) newRowIndex = rowMin;\r\n            }\r\n\r\n            // change the order attribute of the rows to make space for the current row\r\n            if (newRowIndex <= rowMax) {\r\n                for (let row of state.rows) {\r\n                    if (row.order >= newRowIndex) row.order++;\r\n                }\r\n            }\r\n            // create and insert the row\r\n            const newRow = TableDefinitionRow({\r\n                id: rowId,\r\n                order : newRowIndex,\r\n                name: sdx.renderData.title,\r\n                display: true,\r\n                locked: false,\r\n                sdxData: sdx,\r\n                dataOption: \"Exists\",\r\n                required: false\r\n            });\r\n            state.rows.push(newRow);\r\n            // handle reindexing the order attribute for all items (just to make sure our numbering is correct)\r\n            state.rows.sort((a,b) => a.order - b.order).forEach((x,i)=> { x.order = i + 1 });\r\n        },\r\n        handleRowExported: (state, { payload: {row, exported} }) => {\r\n            state.rows = state.rows.map((data) => (data.id === row.id ? ({...data, display: exported}) : data ));\r\n        },\r\n        handleRowAggregation: (state, { payload: {id, value} }) => {\r\n            for (let temp of state.rows) {\r\n                if (temp.id === id) {\r\n                    temp.dataOption = value;\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        handleRowName: (state, { payload: {id, value} }) => {\r\n            for (let temp of state.rows) {\r\n                if (temp.id === id) {\r\n                    temp.name = value;\r\n                    break;\r\n                }\r\n            }\r\n        },\r\n        handleRowSdx: (state, { payload: {id, sdx} }) => {\r\n            for (let temp of state.rows) {\r\n                if (temp.id === id) {\r\n                    temp.sdxData = sdx;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n})\r\n\r\n\r\nexport const {\r\n    loadTable,\r\n    loadTableSuccess,\r\n    loadTableError,\r\n    loadStatusConfirmed,\r\n    handleRowDelete,\r\n    handleRowInsert,\r\n    handleRowExported,\r\n    handleRowAggregation,\r\n    handleRowName,\r\n    handleRowSdx\r\n} = loadTableSlice.actions\r\n\r\nexport default loadTableSlice.reducer","import { createSlice } from '@reduxjs/toolkit'\r\nimport { I2B2_LOADED } from \"../actions\";\r\nimport { defaultState } from '../defaultState';\r\n\r\nexport const i2b2LibLoadedSlice = createSlice({\r\n    name: I2B2_LOADED,\r\n    initialState: defaultState.isI2b2LibLoaded,\r\n    reducers: {\r\n        updateI2b2LibLoaded: (state) => {\r\n            return true;\r\n        }\r\n    }\r\n})\r\n\r\nexport const {\r\n    updateI2b2LibLoaded\r\n} = i2b2LibLoadedSlice.actions\r\n\r\nexport default i2b2LibLoadedSlice.reducer","import \"../../css/modals.scss\";\r\n\r\nimport {Dialog, DialogActions, DialogContent, DialogTitle, DialogContentText} from \"@mui/material\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport React from \"react\";\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\n\r\nimport ReplayIcon from '@mui/icons-material/Replay';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nexport const DateModal = ({open, handleClose, startDate, endDate, setStartDate, setEndDate, saveUpdate}) => {\r\n\r\n    const [canSave, setCanSave] = React.useState(true);\r\n    let handleSetStartValue = (val) => {\r\n        console.log(\"handleSetStartValue\");\r\n        setCanSave(true);\r\n        setStartDate(val);\r\n    };\r\n    let handleSetEndValue = (val) => {\r\n        setCanSave(true);\r\n        setEndDate(val);\r\n    };\r\n\r\n    let handleDateUpdate = () => {\r\n        saveUpdate();\r\n        handleClose();\r\n    }\r\n\r\n\r\n    return (\r\n        <Dialog\r\n            className={\"ModalDialog\"}\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"modal-title\"\r\n            aria-describedby=\"modal-description\"\r\n            fullWidth={true}\r\n            maxWidth={'xl'}\r\n        >\r\n            <DialogTitle>Constrain {} By Date Range</DialogTitle>\r\n            <DialogContent className={\"ModalDialogContent\"}>\r\n                <DialogContentText className={\"ModalDialogContentText\"}>\r\n                    <Typography id=\"modal-description\">\r\n                        Set a start and end date to select a constraint range.\r\n                    </Typography>\r\n                </DialogContentText>\r\n                    <div style={{textAlign: 'center', marginTop: '1rem'}}><DatePicker\r\n                        label=\"Start Date\"\r\n                        views={['year','month','day']}\r\n                        onError={(a) => {\r\n                            if (a === null) {\r\n                                setCanSave(true);\r\n                            } else {\r\n                                setCanSave(false);\r\n                            }\r\n                        }}\r\n                        value={startDate}\r\n                        maxDate={endDate}\r\n                        onAccept={handleSetStartValue}\r\n                        disableFuture={true}\r\n                        sx={{ minWidth: 250 }}\r\n                    />\r\n                    <IconButton\r\n                        aria-label=\"reset date\"\r\n                        size=\"large\"\r\n                        onClick={()=> handleSetStartValue()}\r\n                    ><ReplayIcon fontSize=\"inherit\"/></IconButton>\r\n                    </div>\r\n                    <div style={{textAlign: 'center', marginTop: '1rem'}}><DatePicker\r\n                        label=\"End Date\"\r\n                        views={['year','month','day']}\r\n                        onError={(a) => {\r\n                            if (a === null) {\r\n                                setCanSave(true);\r\n                            } else {\r\n                                setCanSave(false);\r\n                            }\r\n                        }}\r\n                        value={endDate}\r\n                        minDate={startDate}\r\n                        onAccept={handleSetEndValue}\r\n                        disableFuture={true}\r\n                        sx={{ minWidth: 250 }}\r\n                    />\r\n                    <IconButton\r\n                        aria-label=\"reset date\"\r\n                        size=\"large\"\r\n                        onClick={()=> handleSetEndValue()}\r\n                    ><ReplayIcon fontSize=\"inherit\"/></IconButton>\r\n                    </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"outlined\" onClick={()=>{handleClose()}}>Cancel</Button>\r\n                <Button variant=\"contained\" onClick={handleDateUpdate} disabled={!canSave}>Save</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport '../../css/tableDef.scss';\r\nimport {\r\n    DataGrid,\r\n    GridActionsCellItem,\r\n    GridCellModes,\r\n    GridEditInputCell\r\n} from '@mui/x-data-grid';\r\n\r\nimport Stack from '@mui/material/Stack';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\nimport CheckBoxOutlineBlankIcon from '@mui/icons-material/CheckBoxOutlineBlank';\r\nimport DeleteIcon from '@mui/icons-material/Delete';\r\nimport LockIcon from '@mui/icons-material/Lock';\r\n\r\nimport {\r\n    handleRowDelete,\r\n    handleRowInsert,\r\n    handleRowExported,\r\n    handleRowAggregation,\r\n    handleRowName,\r\n    handleRowSdx,\r\n    loadStatusConfirmed\r\n} from \"../../reducers/loadTableSlice\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {updateI2b2LibLoaded} from \"../../reducers/i2b2LibLoadedSlice\";\r\nimport \"./DefineTable.scss\";\r\nimport {DATATYPE, generateTableDefRowId} from \"../../models/TableDefinitionRow\";\r\nimport {Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Link} from \"@mui/material\";\r\nimport XMLParser from \"react-xml-parser\";\r\n\r\nimport dayjs from 'dayjs';\r\nimport {DateModal} from \"../DateModal\";\r\n\r\n/* global i2b2 */\r\n\r\nlet currentDateRow = false;\r\n\r\nexport const DefineTable = (props) => {\r\n    const dispatch = useDispatch();\r\n    const isI2b2LibLoaded  = useSelector((state) => state.isI2b2LibLoaded);\r\n    const { rows, statusInfo } = useSelector((state) => state.tableDef);\r\n    const [cellModesModel, setCellModesModel] = React.useState({});\r\n\r\n\r\n    const columns = [\r\n        {\r\n            field: 'order',\r\n            headerName: 'order',\r\n            headerClassName: \"header\",\r\n            width: 1,\r\n            sortable: true,\r\n            resizable: false,\r\n            sortingOrder: \"ASC\",\r\n            hideSortIcons: true,\r\n            disableReorder: true\r\n        },\r\n        {\r\n            field: 'name',\r\n            headerName: 'Column Title',\r\n            headerClassName: \"header\",\r\n            flex:1,\r\n            editable: true,\r\n            sortable: false,\r\n            resizable: true,\r\n            disableColumnSorting: true,\r\n            disableColumnMenu: false,\r\n            renderCell: ({row}) =>  (\r\n                <Tooltip title={row.sdxData.renderData?.moreDescriptMinor ? row.sdxData.renderData.moreDescriptMinor : \"This column was originally called \\\"\"+ row.id+\"\\\"\"} >\r\n                    { row.name.length ? <span className=\"tabledef-cell-trucate\">{row.name}</span>  : <div className=\"tabledef-cell-trucate\">&nbsp;</div> }\r\n                </Tooltip>\r\n            ),\r\n            renderEditCell: (params) => (\r\n                <GridEditInputCell\r\n                    {...params}\r\n                    inputProps={{ maxLength: 255 }}\r\n                />\r\n            ),\r\n            valueSetter: (value, row) => {\r\n                dispatch(handleRowName({id: row.id, value: value}));\r\n                return { ...row };\r\n            },\r\n        },\r\n        {\r\n            field: \"constraints\",\r\n            headerName: 'Constraints',\r\n            headerClassName: \"header\",\r\n            disableColumnSorting: true,\r\n            disableColumnMenu: true,\r\n            resizable: true,\r\n            editable: false,\r\n            sortable: false,\r\n            display: \"flex\",\r\n            flex:0.5,\r\n            renderCell: (cellValues) => {\r\n                if (!cellValues.row.required) {\r\n                    let func_getDateTxt = function(sdx) {\r\n                        let ret = {txt: false, mouse: false };\r\n                        ret.txt = \"Set Date\";\r\n                        ret.mouse = \"Click to set a date constraint\";\r\n                        if (sdx.dateRange) {\r\n                            let start = false;\r\n                            let end = false;\r\n                            if (sdx.dateRange.start && sdx.dateRange.start !== \"\") start = sdx.dateRange.start;\r\n                            if (sdx.dateRange.end && sdx.dateRange.end !== \"\") end = sdx.dateRange.end;\r\n                            if (start && end) {\r\n                                ret.txt = start + \" to \" + end;\r\n                                ret.mouse = \"Only find this concept from \" + start + \" to \" + end;\r\n                            } else {\r\n                                if (start) {\r\n                                    ret.txt = \">= \" + start;\r\n                                    ret.mouse = \"Only find this concept starting from \" + start;\r\n                                }\r\n                                if (end) {\r\n                                    ret.txt = \"<= \" + end;\r\n                                    ret.mouse = \"Only find this concept until \" + end;\r\n                                }\r\n                            }\r\n                        }\r\n                        return ret;\r\n                    };\r\n\r\n                    // lab value constraint\r\n                    let txtLab;\r\n                    let txtMouseover;\r\n                    let labData = cellValues.row.sdxData.LabValues;\r\n                    if (labData !== undefined && labData.ValueType !== undefined) {\r\n                        switch (labData.ValueType) {\r\n                            case undefined:\r\n                                break;\r\n                            case \"TEXT\":\r\n                                if (labData.Value.length > 1) {\r\n                                    txtLab = \"(\" + labData.Value.length + \" values)\";\r\n                                    txtMouseover = labData.Value.join('\\n');\r\n                                } else {\r\n                                    txtLab = labData.Value[0];\r\n                                    txtMouseover = txtLab;\r\n                                }\r\n                                break;\r\n                            case \"FLAG\":\r\n                                txtLab = \"Flag = \\\"\" + labData.ValueFlag + \"\\\"\";\r\n                                txtMouseover = txtLab;\r\n                                break;\r\n                            default:\r\n                                switch(labData.ValueOperator) {\r\n                                    case \"BETWEEN\":\r\n                                        txtLab = \"Between \" + labData.ValueLow + \" - \" + labData.ValueHigh;\r\n                                        break;\r\n                                    case \"GT\":\r\n                                        txtLab = \">\" + labData.Value;\r\n                                        break;\r\n                                    case \"GE\":\r\n                                        txtLab = \"≥\" + labData.Value;\r\n                                        break;\r\n                                    case \"LE\":\r\n                                        txtLab = \"≤\" + labData.Value;\r\n                                        break;\r\n                                    case \"LT\":\r\n                                        txtLab = \"<\" + labData.Value;\r\n                                        break;\r\n                                    case \"EQ\":\r\n                                        txtLab = \"=\" + labData.Value;\r\n                                        break;\r\n                                    default:\r\n                                        txtLab = \"UNKNOWN\";\r\n                                }\r\n                                // add units\r\n                                if (typeof labData.ValueUnit === \"string\" && labData.ValueUnit !== \"\") txtLab = txtLab + \" \" + labData.ValueUnit;\r\n                                txtMouseover = txtLab;\r\n                                break;\r\n                        }\r\n                        let dateInfo = func_getDateTxt(cellValues.row.sdxData);\r\n                        return (<span><Link href={`#${cellValues.row.id}`} title={txtMouseover} onClick={(event) => {\r\n                            handleSetValueClick(event, cellValues);\r\n                        }}>{txtLab}</Link> | <Link href={`#${cellValues.row.id}`} title={dateInfo.mouse} onClick={(event) => {\r\n                            handleSetDateClick(event, cellValues);\r\n                        }}>{dateInfo.txt}</Link></span>);\r\n                    } else {\r\n                        let dateInfo = func_getDateTxt(cellValues.row.sdxData);\r\n                        if (labData !== undefined ) {\r\n                            return (<span><Link href={`#${cellValues.row.id}`} onClick={(event) => {\r\n                                handleSetValueClick(event, cellValues);\r\n                            }}>Set Value</Link> | <Link href={`#${cellValues.row.id}`} title={dateInfo.mouse} onClick={(event) => {\r\n                                handleSetDateClick(event, cellValues);\r\n                            }}>{dateInfo.txt}</Link></span>);\r\n                        } else {\r\n                            return (<span><Link href={`#${cellValues.row.id}`} title={dateInfo.mouse} onClick={(event) => {\r\n                                handleSetDateClick(event, cellValues);\r\n                            }}>{dateInfo.txt}</Link></span>);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        {\r\n            field: 'dataOption',\r\n            headerName: 'Aggregation Method',\r\n            headerClassName: \"header\",\r\n            minWidth: 275,\r\n            resizable: false,\r\n            disableColumnMenu: true,\r\n            disableReorder: true,\r\n            display: \"flex\",\r\n            hideSortIcons: true,\r\n            disableColumnSorting: true,\r\n            sortable: false,\r\n            editable: true,\r\n            type: \"singleSelect\",\r\n            valueOptions: ({ row }) => {\r\n                let valueOptions = [];\r\n                if (!row.required) {\r\n                    valueOptions.push(\r\n                        { value: \"Exists\", label: \"Existence (Yes/No)\" },\r\n                        { value: \"NumConcepts\", label: \"Count: Number of Concepts\"},\r\n                        { value: \"NumDates\", label: \"Count: Number of Dates\" },\r\n                        { value: \"NumEncounters\", label: \"Count: Number of Encounters\" },\r\n                        { value: \"NumFacts\", label: \"Count: Number of Facts\" },\r\n                        { value: \"NumProviders\", label: \"Count: Number of Providers\" },\r\n                        { value: \"MinDate\", label: \"Date: First Date\" },\r\n                        { value: \"MaxDate\", label: \"Date: Last Date\" },\r\n                    );\r\n                }else{\r\n                    valueOptions.push ({ value: \"Value\", label: \"Value\" });\r\n                }\r\n\r\n                if(row.dataType) {\r\n                    if (row.dataType === DATATYPE.INTEGER ||\r\n                        row.dataType === DATATYPE.FLOAT ||\r\n                        row.dataType === DATATYPE.POSINTEGER ||\r\n                        row.dataType === DATATYPE.POSFLOAT) {\r\n                        valueOptions.push(\r\n                            { value: \"MinValue\", label: \"Calc: Minimum Value\" },\r\n                            { value: \"MaxValue\", label: \"Calc: Maximum Value\" },\r\n                            { value: \"AvgValue\", label: \"Calc: Average Value\" },\r\n                            { value: \"MedianValue\", label: \"Calc: Median Value\" },\r\n                            {value: \"FirstValue\", label: \"Calc: First Value\"},\r\n                            {value: \"LastValue\", label: \"Calc: Last Value\"},\r\n                            {value: \"NumValues\", label: \"Count: Number of Values\"}\r\n                        );\r\n                    }else{\r\n                        valueOptions.push(\r\n                            { value: \"FirstValueEnum\", label: \"Calc: First Value\" },\r\n                            { value: \"LastValueEnum\", label: \"Calc: Last Value\" },\r\n                        );\r\n                    }\r\n                }\r\n\r\n                return valueOptions;\r\n            },\r\n            valueSetter: (value, row) => {\r\n                dispatch(handleRowAggregation({id: row.id, value: value}));\r\n                return { ...row };\r\n            }\r\n        },\r\n        {\r\n            field: \"included\",\r\n            headerName: \"Actions\",\r\n            headerClassName: \"header\",\r\n            width: 70,\r\n            editable: false,\r\n            sortable: false,\r\n            type: \"boolean\",\r\n            resizable: false,\r\n            disableColumnMenu: true,\r\n            disableReorder: true,\r\n            hideSortIcons: true,\r\n            disableColumnSorting: true,\r\n            headerAlign: \"center\",\r\n            renderCell: ({row}) => {\r\n                if (row.required) {\r\n                    if (row.locked) {\r\n                        return (\r\n                            <GridActionsCellItem\r\n                                icon={\r\n                                    <Tooltip title=\"Column is Locked\">\r\n                                        <LockIcon />\r\n                                    </Tooltip>\r\n                                }\r\n                                label=\"Locked Column\"\r\n                            />);\r\n                    } else {\r\n                        if (row.display) {\r\n                            return (\r\n                                <GridActionsCellItem\r\n                                    icon={\r\n                                        <Tooltip title=\"Column is Exported\">\r\n                                            <CheckIcon />\r\n                                        </Tooltip>\r\n                                    }\r\n                                    label=\"Column is Exported\"\r\n                                    onClick={(e) => {\r\n                                        dispatch(handleRowExported({row: row, exported:false}));\r\n                                    }}\r\n                                />\r\n                            );\r\n                        } else {\r\n                            return (\r\n                                <GridActionsCellItem\r\n                                    icon={\r\n                                        <Tooltip title=\"Column is not Exported\">\r\n                                            <CheckBoxOutlineBlankIcon />\r\n                                        </Tooltip>\r\n                                    }\r\n                                    label=\"Column is not Exported\"\r\n                                    onClick={(e) => {\r\n                                        dispatch(handleRowExported({row: row, exported:true}));\r\n                                    }}\r\n                                />\r\n                            );\r\n                        }\r\n                    }\r\n                } else {\r\n                    return (\r\n                        <GridActionsCellItem\r\n                            icon={\r\n                                <Tooltip title=\"Delete Column\">\r\n                                    <DeleteIcon />\r\n                                </Tooltip>\r\n                            }\r\n                            label=\"Delete Column\"\r\n                            onClick={(e) => {\r\n                                dispatch(handleRowDelete({row: row}));\r\n                            }}\r\n                        />\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    ];\r\n\r\n    const displayLabValues = (rowId, sdx) => {\r\n        i2b2.authorizedTunnel.function[\"i2b2.CRC.view.QT.labValue.getAndShowLabValues\"](sdx).then((res) => {\r\n            dispatch(handleRowSdx({\r\n                id: rowId, sdx: res\r\n            }));\r\n        });\r\n    }\r\n    const  handleSetValueClick = (event, cellValues) => {\r\n        displayLabValues(cellValues.row.id, cellValues.row.sdxData);\r\n    };\r\n\r\n    const handleDateSave = () => {\r\n        let rowId = currentDateRow.id;\r\n        let newSdx = currentDateRow.sdxData;\r\n        let newDateRange = {start:\"\", end:\"\"}\r\n        if (startDate) newDateRange.start = (startDate.$M + 1) + \"/\" + startDate.$D + \"/\" + startDate.$y;\r\n        if (endDate) newDateRange.end = (endDate.$M + 1) + \"/\" + endDate.$D + \"/\" + endDate.$y;\r\n        newSdx = {...newSdx, dateRange: newDateRange};\r\n        dispatch(handleRowSdx({\r\n            id: rowId, sdx: newSdx\r\n        }));\r\n    }\r\n    const  handleSetDateClick = (event, cellValues) => {\r\n        currentDateRow = cellValues.row;\r\n        let sdx = cellValues.row.sdxData;\r\n        if (sdx.dateRange) {\r\n            if (sdx.dateRange.start === \"\") {\r\n                setStartDate(undefined);\r\n            } else {\r\n                let temp = sdx.dateRange.start.split('/');\r\n                setStartDate(dayjs(temp[2] + '-' + temp[0] + '-' + temp[1]));\r\n            }\r\n            if (sdx.dateRange.end === \"\") {\r\n                setEndDate(undefined);\r\n            } else {\r\n                let temp = sdx.dateRange.end.split('/');\r\n                setEndDate(dayjs(temp[2] + '-' + temp[0] + '-' + temp[1]));\r\n            }\r\n        } else {\r\n            setStartDate(undefined);\r\n            setEndDate(undefined);\r\n        }\r\n        handleDateOpen();\r\n    };\r\n    const [showDate, setDateViz] = React.useState(false);\r\n    const handleDateOpen = () => setDateViz(true);\r\n    const handleDateClose = () => setDateViz(false);\r\n    const [startDate, setStartDate] = React.useState(undefined);\r\n    const [endDate, setEndDate] = React.useState(undefined);\r\n\r\n\r\n    const conceptDropHandler = (sdx, ev) => {\r\n        let rowNum = null;\r\n        // see if drop is on a row\r\n        let row = ev.target.closest(\".MuiDataGrid-row\");\r\n        if (row === null) {\r\n            // see if the drop was on the header\r\n            row = ev.target.closest(\".MuiDataGrid-columnHeaders\");\r\n            if (row !== null) {\r\n                // insert the drop at the very top (this is in-band signaling)\r\n                rowNum = Number.NEGATIVE_INFINITY;\r\n            } else {\r\n                // insert to drop at the very bottom (this is in-band signaling)\r\n                rowNum = Number.POSITIVE_INFINITY;\r\n            }\r\n        } else {\r\n            // insert the drop below the currently set row\r\n            rowNum = parseInt(row.dataset.rowindex) + 1;\r\n        }\r\n\r\n        // clean/retrieve sdx info\r\n        delete sdx.renderData.tvNodeState;\r\n        let requestData = {\r\n            ont_max_records: 'max=\"1\"',\r\n            ont_synonym_records: false,\r\n            ont_hidden_records: false,\r\n            concept_key_value: sdx.sdxInfo.sdxKeyValue\r\n        }\r\n        i2b2.ajax.ONT.GetTermInfo(requestData)\r\n            .then((xmlString) => {\r\n                // get and populate metadata info\r\n                let xmlparser = new XMLParser();\r\n                let xmlDoc = xmlparser.parseFromString(xmlString);\r\n                let concepts = xmlDoc.getElementsByTagName('ns6:concepts');\r\n                if (concepts.length !== 0) sdx.origData.xmlOrig =  xmlparser.toString(concepts[0]);\r\n                // metadata\r\n                let valueMetadataList = xmlDoc.getElementsByTagName('metadataxml');\r\n                if (valueMetadataList.length !== 0 ) {\r\n                    let metadata = valueMetadataList[0];\r\n                    sdx.origData.metadata = xmlparser.toString(metadata);\r\n                    let dataType = metadata.getElementsByTagName('DataType');\r\n                    if (dataType.length !== 0) sdx.origData.dataType = DATATYPE[dataType[0].value.toUpperCase()];\r\n                }\r\n            }).finally(() => {\r\n                // insert row\r\n                const rowId = generateTableDefRowId(sdx.sdxInfo.sdxKeyValue);\r\n                dispatch(handleRowInsert({rowIndex: rowNum, rowId: rowId, sdx: sdx}));\r\n                if (sdx.origData.metadata !== undefined) displayLabValues(rowId, sdx);\r\n        });\r\n    };\r\n\r\n    const i2b2LibLoaded = () => {\r\n        dispatch(updateI2b2LibLoaded());\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isI2b2LibLoaded && i2b2.sdx !== undefined) {\r\n            i2b2.sdx.AttachType(\"dropTrgt\", \"CONCPT\");\r\n            i2b2.sdx.setHandlerCustom(\"dropTrgt\", \"CONCPT\", \"DropHandler\", conceptDropHandler);\r\n        } else {\r\n            window.addEventListener('I2B2_READY', i2b2LibLoaded);\r\n        }\r\n    }, [isI2b2LibLoaded]);\r\n\r\n    const handleCellClick = React.useCallback(\r\n        (params, event) => {\r\n            if (!params.isEditable) return;\r\n            // Ignore portal\r\n            if (event.target.nodeType === 1 && !event.currentTarget.contains(event.target)) return;\r\n\r\n            if (params !== undefined) {\r\n                if (params.field === \"dataOption\" && params.row.required === true) {\r\n                    event.preventDefault();\r\n                    return;\r\n                }\r\n            }\r\n            setCellModesModel((prevModel) => {\r\n                let ret = {\r\n                    ...Object.keys(prevModel).reduce(\r\n                        (acc, id) => ({\r\n                            ...acc,\r\n                            [id]: Object.keys(prevModel[id]).reduce(\r\n                                (acc2, field) => ({\r\n                                    ...acc2,\r\n                                    [field]: {mode: GridCellModes.View},\r\n                                }),\r\n                                {},\r\n                            ),\r\n                        }),\r\n                        {},\r\n                    ),\r\n                    // Revert the mode of the other cells from other rows\r\n                    ...Object.keys(prevModel).reduce(\r\n                        (acc, id) => ({\r\n                            ...acc,\r\n                            [id]: Object.keys(prevModel[id]).reduce(\r\n                                (acc2, field) => ({\r\n                                    ...acc2,\r\n                                    [field]: {mode: GridCellModes.View},\r\n                                }),\r\n                                {},\r\n                            ),\r\n                        }),\r\n                        {},\r\n                    )\r\n                };\r\n\r\n                return {\r\n                    ...ret,\r\n                    [params.id]: {\r\n                        // Revert the mode of other cells in the same row\r\n                        ...Object.keys(prevModel[params.id] || {}).reduce(\r\n                            (acc, field) => ({ ...acc, [field]: { mode: GridCellModes.View } }),\r\n                            {},\r\n                        ),\r\n                        [params.field]: { mode: GridCellModes.Edit },\r\n                    },\r\n                };\r\n            });\r\n        },\r\n        [],\r\n    );\r\n\r\n    const handleCellModesModelChange = React.useCallback(\r\n        (newModel) => {\r\n            setCellModesModel(newModel);\r\n        },\r\n        [],\r\n    );\r\n\r\n    const checkEmptyName = (temp) => {\r\n        if (temp.field === \"name\") {\r\n            if (temp.value.trim().length === 0) {\r\n                return 'missing';\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleConfirmStatus = () => {\r\n        dispatch(loadStatusConfirmed());\r\n    };\r\n\r\n    return (\r\n        <div className={\"DefineTable\"} >\r\n            <DateModal\r\n                handleClose={handleDateClose}\r\n                open={showDate}\r\n                startDate={startDate}\r\n                setStartDate={setStartDate}\r\n                endDate={endDate}\r\n                setEndDate={setEndDate}\r\n                saveUpdate={handleDateSave}\r\n            />\r\n\r\n            <div id=\"dropTrgt\">\r\n                <p>Drag a concept onto the grid to add it to the list</p>\r\n                <DataGrid\r\n                    style={{background:\"white\"}}\r\n                    className={\"DefineTableGrid\"}\r\n                    rows={rows}\r\n                    columns={columns}\r\n                    showCellVerticalBorder={true}\r\n                    hideFooterSelectedRowCount={true}\r\n                    columnVisibilityModel={{order: false}}\r\n                    disableColumnSelector={true}\r\n                    cellModesModel={cellModesModel}  // causes errors when deleting a row\r\n                    onCellModesModelChange={handleCellModesModelChange} // causes errors when deleting a row\r\n                    onCellClick={handleCellClick}\r\n                    onCellDoubleClick={handleCellClick}\r\n                    initialState={{\r\n                        sorting: {\r\n                            sortModel: [{field:'order',sort:'asc'}]\r\n                        }\r\n                    }}\r\n                    autoHeight={true}\r\n                    hideFooter={true}\r\n                    isCellEditable={({row, colDef}) => (!row.locked && !(row.required && colDef.field === \"dataOption\"))}\r\n                    getCellClassName={checkEmptyName}\r\n                />\r\n            </div>\r\n\r\n            <Stack\r\n                spacing={2}\r\n                direction=\"row\"\r\n                justifyContent=\"right\"\r\n                alignItems=\"center\"\r\n                className={\"DefineTableActions\"}\r\n            >\r\n                <Button variant=\"contained\" onClick={()=>props.tabChanger(null,1)}>Preview Table</Button>\r\n                <Button variant=\"contained\" onClick={()=>props.tabChanger(null,2)}>Select Participants for Table</Button>\r\n            </Stack>\r\n\r\n            {statusInfo.status === \"SUCCESS\" && handleConfirmStatus()}\r\n            <Dialog\r\n                open={statusInfo.status === \"FAIL\"}\r\n                onClose={handleConfirmStatus}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">\r\n                    {\"Data Request\"}\r\n                </DialogTitle>\r\n                <DialogContent dividers>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {statusInfo.errorMessage}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" autoFocus onClick={handleConfirmStatus}>\r\n                        Ok\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n\r\n\r\n}","import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const CustomTabPanel = ({ children, value, index, ...other }) => {\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`simple-tabpanel-${index}`}\r\n            aria-labelledby={`simple-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\r\n        </div>\r\n    )\r\n}\r\n\r\nCustomTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.number.isRequired,\r\n    value: PropTypes.number.isRequired,\r\n};","import { createSlice } from '@reduxjs/toolkit'\r\nimport {MAKE_REQUEST_DETAILS} from \"../actions\";\r\nimport { defaultState } from '../defaultState';\r\nimport {StatusInfo} from \"../models\";\r\n\r\nexport const makeRequestSlice = createSlice({\r\n    name: MAKE_REQUEST_DETAILS,\r\n    initialState: defaultState.makeRequestDetails,\r\n    reducers: {\r\n        updateRequestPatientSet: (state, { payload: sdx }) => {\r\n            state.patientSet.title = sdx.renderData.title;\r\n            state.patientSet.sdx = sdx;\r\n        },\r\n        updateRequestComments: (state, { payload: comments }) => {\r\n            state.comments = comments;\r\n        },\r\n        updateRequestEmail: (state, { payload: email }) => {\r\n            state.email = email;\r\n        },\r\n        makeRequest: state => {\r\n            state.isSubmitting = true;\r\n            state.statusInfo = StatusInfo();\r\n        },\r\n        makeRequestSuccess: (state) => {\r\n            state.isSubmitting = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"SUCCESS\"\r\n            });\r\n        },\r\n        makeRequestError: (state, { payload: { errorMessage } }) => {\r\n            state.isSubmitting = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"FAIL\",\r\n                errorMessage: errorMessage\r\n            });\r\n        },\r\n        makeRequestStatusConfirmed: (state) => {\r\n            state.statusInfo = StatusInfo();\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    makeRequest,\r\n    makeRequestSuccess,\r\n    makeRequestError,\r\n    makeRequestStatusConfirmed,\r\n    updateRequestPatientSet,\r\n    updateRequestEmail,\r\n    updateRequestComments\r\n} = makeRequestSlice.actions\r\n\r\nexport default makeRequestSlice.reducer","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport \"../../css/modals.scss\";\r\n\r\nimport Button from \"@mui/material/Button\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport {\r\n    Backdrop,\r\n    CircularProgress,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogContentText,\r\n    DialogTitle,\r\n    TextField\r\n} from \"@mui/material\";\r\nimport \"./MakeRequest.scss\";\r\nimport {\r\n    makeRequest,\r\n    makeRequestStatusConfirmed,\r\n    updateRequestComments,\r\n    updateRequestEmail,\r\n    updateRequestPatientSet\r\n} from \"../../reducers/makeRequestSlice\";\r\n\r\n/* global i2b2 */\r\nexport const MakeRequest = () => {\r\n    const dispatch = useDispatch();\r\n    const makeRequestDetails = useSelector((state) => state.makeRequestDetails);\r\n    const tableDef = useSelector((state) => state.tableDef);\r\n    const [isEmailNotValid, setIsEmailNotValid] = useState(false);\r\n    const [emailNotValidError, setEmailNotValidError] = useState(\"\");\r\n    const [isPatientSetNotValid, setIsPatientSetNotValid] = useState(false);\r\n    const defaultPatientSetHelperText = \"Drag and drop a patient set here\";\r\n    const [patientSetNotValidError, setPatientSetNotValidError] = useState(defaultPatientSetHelperText);\r\n\r\n    const updateEmail = (value) => {\r\n        dispatch(updateRequestEmail(value));\r\n    }\r\n\r\n    const updateComments = (value) => {\r\n        dispatch(updateRequestComments(value));\r\n    }\r\n\r\n    const handleMakeRequest = () => {\r\n        if(isValidRequest()) {\r\n            dispatch(makeRequest({\r\n                makeRequestDetails: makeRequestDetails,\r\n                tableDefRows: tableDef.rows\r\n            }));\r\n        }\r\n    }\r\n\r\n    const isValidRequest = () => {\r\n        let isValid = true;\r\n\r\n        if (!makeRequestDetails.patientSet || makeRequestDetails.patientSet.title.length === 0) {\r\n            setIsPatientSetNotValid(true);\r\n            setPatientSetNotValidError(\"Patient Set is required\");\r\n            isValid = false;\r\n        } else {\r\n            setIsPatientSetNotValid(false);\r\n            setPatientSetNotValidError(defaultPatientSetHelperText);\r\n        }\r\n\r\n        const emailRegex = /\\S+@\\S+\\.\\S+/;\r\n        if ((makeRequestDetails.email && makeRequestDetails.email.length > 0) && emailRegex.test(makeRequestDetails.email)) {\r\n            setIsEmailNotValid(false);\r\n            setEmailNotValidError(\"\");\r\n        } else {\r\n            setIsEmailNotValid(true);\r\n            setEmailNotValidError(\"Enter a valid email\");\r\n            isValid = false;\r\n        }\r\n\r\n        return isValid;\r\n    }\r\n\r\n    const handleConfirmStatus = () => {\r\n        dispatch(makeRequestStatusConfirmed());\r\n    };\r\n\r\n    const handlePatientSetDrop = (sdx,ev) => {\r\n        dispatch(updateRequestPatientSet(sdx));\r\n    }\r\n\r\n    const displayMakeRequestStatusMsg = (statusMsg) => {\r\n        return ( <Dialog\r\n                open={true}\r\n                onClose={handleConfirmStatus}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n            >\r\n                <DialogTitle id=\"alert-dialog-title\">\r\n                    {\"Data Request\"}\r\n                </DialogTitle>\r\n                <DialogContent dividers>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        {statusMsg}\r\n                    </DialogContentText>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button variant=\"contained\" autoFocus onClick={handleConfirmStatus}>\r\n                        Ok\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        )\r\n    }\r\n    useEffect(() => {\r\n        if(i2b2) {\r\n            i2b2.sdx.AttachType(\"makeRequestPatientSet\", \"PRS\");\r\n            i2b2.sdx.setHandlerCustom(\"makeRequestPatientSet\", \"PRS\", \"DropHandler\", handlePatientSetDrop);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <Stack\r\n            className={\"MakeRequest\"}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"flex-start\"\r\n            spacing={3}\r\n            useFlexGap\r\n        >\r\n            <TextField\r\n                id=\"makeRequestPatientSet\"\r\n                required\r\n                className=\"inputField\"\r\n                label=\"Patient Set\"\r\n                variant=\"standard\"\r\n                fullWidth\r\n                slotProps={{ input: { readOnly: true } }}\r\n                error={isPatientSetNotValid}\r\n                helperText={patientSetNotValidError}\r\n                value={makeRequestDetails.patientSet.title}\r\n                InputLabelProps={{ shrink: true }}\r\n            />\r\n            <TextField\r\n                required\r\n                disabled={true}\r\n                className=\"inputField\"\r\n                label=\"Table\"\r\n                defaultValue={\"Table specifications from Define Table tab\"}\r\n                variant=\"standard\"\r\n                fullWidth\r\n                InputLabelProps={{ shrink: true }}\r\n            />\r\n            <TextField\r\n                required\r\n                className=\"inputField\"\r\n                label=\"Email\"\r\n                variant=\"standard\"\r\n                fullWidth\r\n                value={makeRequestDetails.email}\r\n                onChange={(event) => updateEmail(event.target.value)}\r\n                error={isEmailNotValid}\r\n                helperText={emailNotValidError}\r\n                InputLabelProps={{ shrink: true }}\r\n            />\r\n            <TextField\r\n                className=\"inputField comments\"\r\n                label=\"Comments\"\r\n                fullWidth\r\n                maxRows={5}\r\n                minRows={3}\r\n                inputProps={{ maxLength: 1000 }}\r\n                multiline\r\n                value={makeRequestDetails.comments}\r\n                helperText={\"Max: 1,000 characters\"}\r\n                onChange={(event) => updateComments(event.target.value)}\r\n                InputLabelProps={{ shrink: true }}\r\n            />\r\n            <div className={\"MakeRequestSubmitMain\"}>\r\n                <Button className={\"MakeRequestSubmit\"} onClick={handleMakeRequest} variant=\"contained\" >Submit Request for Data Export</Button>\r\n            </div>\r\n            <Backdrop\r\n                sx={{ color: '#fff', zIndex: (theme) => theme.zIndex.drawer + 1 }}\r\n                open={makeRequestDetails.isSubmitting}\r\n            >\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n\r\n            {makeRequestDetails.statusInfo.status === \"SUCCESS\" && displayMakeRequestStatusMsg(\"A data export request has been submitted.\")}\r\n            {makeRequestDetails.statusInfo.status === \"FAIL\" && displayMakeRequestStatusMsg(makeRequestDetails.statusInfo.errorMessage)}\r\n        </Stack>\r\n    );\r\n}\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {DataGrid} from \"@mui/x-data-grid\";\r\nimport \"./PreviewTable.scss\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Typography from '@mui/material/Typography';\r\nimport Button from \"@mui/material/Button\";\r\n\r\n\r\nimport Tooltip, { tooltipClasses } from '@mui/material/Tooltip';\r\nimport { styled } from '@mui/material/styles';\r\nconst CustomTooltip = styled(({ className, ...props }) => (\r\n    <Tooltip {...props} classes={{ popper: className }} />\r\n))({\r\n    [`& .${tooltipClasses.tooltip}`]: {\r\n        maxWidth: 500,\r\n        textAlign: 'center',\r\n        whiteSpace: 'pre-wrap',\r\n        fontSize: '0.8rem'\r\n    },\r\n});\r\n\r\n\r\nexport const PreviewTable = (props) => {\r\n    const tableDefRows = useSelector((state) => state.tableDef.rows);\r\n    const [columns, setColumns] = useState([]);\r\n    const [rows, setRows] = useState([]);\r\n\r\n    const updateRows = (columns) => {\r\n\r\n        let newRows = [];\r\n        for (let i = 0; i < 5; i++) {\r\n            let row = {\r\n                id: i\r\n            };\r\n            for (const column of columns) {\r\n                let name = column.id;\r\n                let aggType= column.aggType;\r\n\r\n                row[name] = \"[Value]\";\r\n\r\n                switch (name) {\r\n                    case 'patient_number':\r\n                    case 'subject_id':\r\n                        row[name] = \"RA15432-0000\" + i\r\n                        break;\r\n                    case 'gender':\r\n                        row[name] = ['M','F'].map((a) => ({ sort: Math.random(), value: a }))\r\n                        .sort((a, b) => a.sort - b.sort)\r\n                        .map((a) => a.value)[0];\r\n                        break;\r\n                    case 'age':\r\n                        row[name] = Math.floor(Math.random() * 81) + 20;\r\n                        break;\r\n                    case 'vital_status':\r\n                        row[name] = \"N\";\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n\r\n                switch (aggType) {\r\n                    case 'Exists':\r\n                        row[name] = [\"Yes\", \"No\"].map((a) => ({ sort: Math.random(), value: a }))\r\n                            .sort((a, b) => a.sort - b.sort)\r\n                            .map((a) => a.value)[0];\r\n                        break;\r\n                    case \"NumConcepts\":\r\n                    case \"NumDates\":\r\n                    case \"NumEncounters\":\r\n                    case \"NumFacts\":\r\n                    case \"NumProviders\":\r\n                    case \"NumValues\":\r\n                        row[name] = Math.floor(Math.random() * 101);\r\n                        break;\r\n                    case \"MinDate\":\r\n                    case \"MaxDate\":\r\n                        const time = Math.floor(Math.random() * 1577836801) + 1704067200;\r\n                        row[name] = (new Date(time)).toLocaleString();\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n\r\n            newRows.push(row);\r\n        }\r\n        setRows(newRows);\r\n    }\r\n\r\n    useEffect( ()  =>{\r\n        let columnNames = [];\r\n        setColumns(tableDefRows.filter(p => p.display).map(row => {\r\n            columnNames.push({id:row.id, name: row.name, aggType: row.dataOption});\r\n            return {\r\n                field: row.id,\r\n                headerName: row.name,\r\n                description: row.name,\r\n                headerClassName: \"header\",\r\n                sortable: false,\r\n                hideSortIcons: true,\r\n                disableReorder: true,\r\n                flex: 1,\r\n                minWidth: 150,\r\n                renderHeader: (data) => {\r\n                    let ret = [row.name];\r\n                    ret.push('['+row.dataOption+']');\r\n                    if (row.sdxData.LabValues) {\r\n                        let labData = row.sdxData.LabValues;\r\n                        let txtLab;\r\n                        if (labData !== undefined && labData.ValueType !== undefined) {\r\n                            switch (labData.ValueType) {\r\n                                case undefined:\r\n                                    break;\r\n                                case \"TEXT\":\r\n                                    if (labData.Value.length > 1) {\r\n                                        txtLab = \"(\" + labData.Value.length + \" values)\";\r\n                                        // txtMouseover = labData.Value.join('\\n');\r\n                                    } else {\r\n                                        txtLab = labData.Value[0];\r\n                                    }\r\n                                    break;\r\n                                case \"FLAG\":\r\n                                    txtLab = \"Flag = \\\"\" + labData.ValueFlag + \"\\\"\";\r\n                                    break;\r\n                                default:\r\n                                    switch(labData.ValueOperator) {\r\n                                        case \"BETWEEN\":\r\n                                            txtLab = \"Between \" + labData.ValueLow + \" - \" + labData.ValueHigh;\r\n                                            break;\r\n                                        case \"GT\":\r\n                                            txtLab = \">\" + labData.Value;\r\n                                            break;\r\n                                        case \"GE\":\r\n                                            txtLab = \"≥\" + labData.Value;\r\n                                            break;\r\n                                        case \"LE\":\r\n                                            txtLab = \"≤\" + labData.Value;\r\n                                            break;\r\n                                        case \"LT\":\r\n                                            txtLab = \"<\" + labData.Value;\r\n                                            break;\r\n                                        case \"EQ\":\r\n                                            txtLab = \"=\" + labData.Value;\r\n                                            break;\r\n                                        default:\r\n                                            txtLab = \"UNKNOWN\";\r\n                                    }\r\n                                    // add units\r\n                                    if (typeof labData.ValueUnit === \"string\" && labData.ValueUnit !== \"\") txtLab = txtLab + \" \" + labData.ValueUnit;\r\n                                    break;\r\n                            }\r\n                        }\r\n                        ret.push('[ ' + txtLab + ' ]');\r\n                    }\r\n                    if (row.sdxData.dateRange) {\r\n                        let sdxDate = row.sdxData.dateRange;\r\n                        let start = false;\r\n                        let end = false;\r\n                        if (sdxDate.start && sdxDate.start !== \"\") start = sdxDate.start;\r\n                        if (sdxDate.end && sdxDate.end !== \"\") end = sdxDate.end;\r\n                        if (start && end) {\r\n                            ret.push('[ '+start + \" to \" + end +' ]');\r\n                        } else {\r\n                            if (start) {\r\n                                ret.push(\"[ From \" + start + ' ]');\r\n                            }\r\n                            if (end) {\r\n                                ret.push(\"[ Until \" + end + ' ]');\r\n                            }\r\n                        }\r\n                    }\r\n                    let tooltip = ret.join(\"\\n\\n\");\r\n                    return (<CustomTooltip title={tooltip}>{row.name}</CustomTooltip>);\r\n                }\r\n            }\r\n        }));\r\n        updateRows(columnNames);\r\n    },[tableDefRows]);\r\n\r\n    return (\r\n        <Stack\r\n            className={\"PreviewTable\"}\r\n            direction=\"column\"\r\n            justifyContent=\"center\"\r\n            alignItems=\"center\"\r\n            spacing={3}\r\n            useFlexGap\r\n        >\r\n            <Typography variant=\"subtitle2\" gutterBottom>\r\n            This is an example view of fake data in the format of the table you have defined for export.  This is not real data.\r\n            </Typography>\r\n\r\n            <DataGrid\r\n                className={\"PreviewTableGrid\"}\r\n                style={{background:\"white\"}}\r\n                rows={rows}\r\n                columns={columns}\r\n                showCellVerticalBorder={true}\r\n                hideFooterSelectedRowCount={true}\r\n                columnVisibilityModel={{order: false}}\r\n                disableColumnSelector={true}\r\n                disableColumnMenu={true}\r\n                initialState={{\r\n                    sorting: {\r\n                        sortModel: [{field:'order',sort:'asc'}]\r\n                    }\r\n                }}\r\n                autoHeight={true}\r\n                hideFooter={true}\r\n\r\n            />\r\n\r\n            <Stack\r\n                spacing={2}\r\n                direction=\"row\"\r\n                justifyContent=\"right\"\r\n                alignItems=\"center\"\r\n                className={\"PreviewTableActions\"}\r\n            >\r\n                <Button variant=\"contained\" onClick={()=>props.tabChanger(null,2)}>Select Participants for Table</Button>\r\n            </Stack>\r\n        </Stack>\r\n    )\r\n}","import React from \"react\";\r\n\r\nimport {DataGrid} from \"@mui/x-data-grid\";\r\n\r\nexport const TableListing = ({id, rows, canRename, onSelect, onSelectionModelChange, selectionModel}) => {\r\n    const columns = [\r\n        {\r\n            field: 'title',\r\n            headerName: 'Table Definition Name',\r\n            minWidth: 438,\r\n            flex:1,\r\n            sortable: true,\r\n            editable: canRename,\r\n            disableReorder: true,\r\n            type: 'string',\r\n        }, {\r\n            field: 'create_date',\r\n            headerName: 'Created',\r\n            width: 99,\r\n            sortable: true,\r\n            headerAlign: 'center',\r\n            align: 'center',\r\n            disableReorder: true,\r\n            type: 'date'\r\n        }, {\r\n            field: 'edit_date',\r\n            headerName: 'Edited',\r\n            width: 99,\r\n            sortable: true,\r\n            headerAlign: 'center',\r\n            align: 'center',\r\n            disableReorder: true,\r\n            type: 'date'\r\n        }, {\r\n            field: 'column_count',\r\n            headerName: 'Columns',\r\n            width: 97,\r\n            sortable: true,\r\n            headerAlign: 'center',\r\n            align: 'center',\r\n            disableReorder: true,\r\n            type: 'number'\r\n        }\r\n    ];\r\n\r\n    function handleOnSelectionModelChange(selection, {api} ) {\r\n        if (selection.length > 0) onSelect(api.getRow(selection[0]));\r\n\r\n        if (onSelectionModelChange !== undefined) {\r\n            onSelectionModelChange(selection);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div id={id} style={{height: 400}} >\r\n            <DataGrid\r\n                height={280}\r\n                columnHeaderHeight={40}\r\n                style={{background:\"white\"}}\r\n                columns={columns}\r\n                rows={rows}\r\n                showCellVerticalBorder={true}\r\n                density={'compact'}\r\n                disableColumnResize={true}\r\n                onRowSelectionModelChange = {handleOnSelectionModelChange}\r\n                rowSelectionModel = {selectionModel}\r\n                autoPageSize\r\n            />\r\n        </div>\r\n    )\r\n}","import { createSlice } from '@reduxjs/toolkit'\r\nimport { TABLE_LISTING } from \"../actions\";\r\nimport { defaultState } from '../defaultState';\r\nimport {StatusInfo, TableListing} from \"../models\";\r\n\r\nexport const listTablesSlice = createSlice({\r\n    name: TABLE_LISTING,\r\n    initialState: defaultState.tableListing,\r\n    reducers: {\r\n        listTables: state => {\r\n            state = TableListing({\r\n                isFetching: false\r\n            })\r\n        },\r\n        listTablesSuccess: (state, { payload: tableDefs }) => {\r\n            state.sharedRows = tableDefs.sharedRows;\r\n            state.userRows = tableDefs.userRows;\r\n            state.isFetching = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"SUCCESS\"\r\n            });\r\n        },\r\n        listTablesError: (state, { payload: errorMessage }) => {\r\n            state.isFetching = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"FAIL\",\r\n                errorMessage: errorMessage\r\n            });\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    listTables,\r\n    listTablesSuccess,\r\n    listTablesError\r\n} = listTablesSlice.actions\r\n\r\nexport default listTablesSlice.reducer","import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\n\r\nexport const TabPanel = (props) => {\r\n    const { children, value, index, ...other } = props;\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`vertical-tabpanel-${index}`}\r\n            aria-labelledby={`vertical-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box sx={{ p: 3 }}>\r\n                    <Typography>{children}</Typography>\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport \"../../css/modals.scss\";\r\n\r\nimport { TableListing } from \"../TableListing\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { listTables } from \"../../reducers/listTablesSlice\";\r\nimport { TabPanel } from \"../TabPanel\";\r\nimport {loadTable} from \"../../reducers/loadTableSlice\";\r\nimport {Dialog, DialogActions, DialogContent, DialogTitle, DialogContentText} from \"@mui/material\";\r\n\r\nexport const LoadTableModal = ({open, handleClose, handleSetScreen}) => {\r\n    const dispatch = useDispatch();\r\n    const { sharedRows, userRows } = useSelector((state) => state.tableListing);\r\n    const [tab, setTab] = React.useState(0);\r\n    const [selectedTable, setSelectedTable] = useState(null);\r\n    const handleChangeTab = (event, newValue) => { setTab(newValue); };\r\n\r\n    const addtlProps = (index) => {\r\n        return {\r\n            id: `vertical-tab-${index}`,\r\n            'aria-controls': `vertical-tabpanel-${index}`,\r\n        };\r\n    }\r\n\r\n    const handleLoadTable = () =>{\r\n        handleClose();\r\n        dispatch(loadTable(selectedTable));\r\n        handleSetScreen(0);\r\n    }\r\n    useEffect(() => {\r\n        if (open) {\r\n            dispatch(listTables());\r\n        }\r\n    }, [open]);\r\n\r\n    return (\r\n        <Dialog\r\n            className={\"ModalDialog\"}\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"modal-title\"\r\n            aria-describedby=\"modal-description\"\r\n            fullWidth={true}\r\n            maxWidth={'xl'}\r\n        >\r\n            <DialogTitle> Load Table Definition</DialogTitle>\r\n            <DialogContent className={\"ModalDialogContent\"}>\r\n                <DialogContentText className={\"ModalDialogContentText\"}>\r\n                    <Typography id=\"modal-description\">\r\n                        Load an existing table definition from below. Loading a definition will overwrite any unsaved changes in the definition editor.\r\n                    </Typography>\r\n                </DialogContentText>\r\n                <Box\r\n                    className = {\"modalDefListBox\"}\r\n                    sx={{ flexGrow: 1, display: 'flex', boxShadow: 2 }}\r\n                >\r\n                    <Tabs\r\n                        orientation=\"vertical\"\r\n                        value={tab}\r\n                        onChange={handleChangeTab}\r\n                        aria-label=\"Table Definition Folders\"\r\n                        sx={{ borderRight: 1, borderColor: 'divider' }}\r\n                    >\r\n                        <Tab label=\"Shared Tables\" {...addtlProps(0)} />\r\n                        <Tab label=\"My Tables\" {...addtlProps(1)} />\r\n                    </Tabs>\r\n                    <TabPanel\r\n                        value={tab}\r\n                        index={0}\r\n                        className={'modalTabPanel'}\r\n                    >\r\n                        <TableListing id={\"loadModalDefTableGlobal\"} rows={sharedRows} canRename={false} onSelect={setSelectedTable}/>\r\n                    </TabPanel>\r\n                    <TabPanel\r\n                        value={tab}\r\n                        index={1}\r\n                        className={'modalTabPanel'}\r\n                    >\r\n                        <TableListing id={\"loadModalDefTableLocal\"} rows={userRows} canRename={false} onSelect={setSelectedTable}/>\r\n                    </TabPanel>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"outlined\" onClick={handleClose}>Cancel</Button>\r\n                <Button variant=\"contained\" onClick={handleLoadTable} disable={!selectedTable}>Load</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit'\r\nimport {SAVE_TABLE} from \"../actions\";\r\nimport { defaultState } from '../defaultState';\r\nimport {StatusInfo} from \"../models\";\r\n\r\nexport const saveTableSlice = createSlice({\r\n    name: SAVE_TABLE,\r\n    initialState: defaultState.saveTable,\r\n    reducers: {\r\n        saveTable: state => {\r\n            state.isSaving = true;\r\n            state.statusInfo = StatusInfo();\r\n        },\r\n        saveTableSuccess: (state, { payload: table }) => {\r\n            state.isSaving = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"SUCCESS\"\r\n            });\r\n        },\r\n        saveTableError: (state, { payload: { errorMessage } }) => {\r\n            state.isSaving = false;\r\n            state.statusInfo = StatusInfo({\r\n                status: \"FAIL\",\r\n                errorMessage: errorMessage\r\n            });\r\n        },\r\n        saveStatusConfirmed: (state) => {\r\n            state.statusInfo = StatusInfo();\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    saveTable,\r\n    saveTableSuccess,\r\n    saveTableError,\r\n    saveStatusConfirmed\r\n} = saveTableSlice.actions\r\n\r\nexport default saveTableSlice.reducer","import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport Box from \"@mui/material/Box\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Tabs from \"@mui/material/Tabs\";\r\nimport Tab from \"@mui/material/Tab\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from '@mui/material/TextField';\r\nimport \"../../css/modals.scss\";\r\nimport { TableListing } from \"../TableListing\";\r\nimport { listTables } from \"../../reducers/listTablesSlice\";\r\nimport { TabPanel } from \"../TabPanel\";\r\nimport {saveStatusConfirmed, saveTable} from \"../../reducers/saveTableSlice\";\r\nimport {Alert, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@mui/material\";\r\n\r\n\r\n\r\nexport const SaveTableModal = ({open, handleClose}) => {\r\n    const [selectedTableDef, setSelectedTableDef] = React.useState({});\r\n    const { userRows } = useSelector((state) => state.tableListing);\r\n    const saveTableInfo = useSelector((state) => state.saveTable);\r\n    const tableDefRows = useSelector((state) => state.tableDef.rows);\r\n    const [selectedRows, setSelectedRows] = React.useState([]);\r\n    const [enteredTitle, setEnteredTitle] = React.useState(\"My-Table-Definition\");\r\n    const [showOverwrite, setShowOverwrite] = React.useState(false);\r\n    const [isNameInvalid, setIsNameInvalid] = React.useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const addtlProps = (index)  =>{\r\n        return {\r\n            id: `vertical-tab-${index}`,\r\n            'aria-controls': `vertical-tabpanel-${index}`,\r\n        };\r\n    }\r\n\r\n    const onRowSelect = (row) => {\r\n        setSelectedTableDef({id: row.id, title: row.title});\r\n        setSelectedRows(row.id);\r\n        setEnteredTitle(row.title);\r\n    }\r\n\r\n    const selectIfNameExists = (title) =>{\r\n        const matchedRows = userRows.filter(srow => srow.title?.toUpperCase() === title.toUpperCase());\r\n\r\n        setSelectedRows(matchedRows.map(srow => srow.id));\r\n        setEnteredTitle(title);\r\n\r\n        if(matchedRows.length >0) {\r\n            setSelectedTableDef({title: matchedRows[0].title, id: matchedRows[0].id});\r\n        }else{\r\n            setSelectedTableDef({title: title});\r\n        }\r\n    }\r\n\r\n    const onNameChange = (e) => {\r\n        const title = e.target.value;\r\n\r\n        selectIfNameExists(title);\r\n\r\n        if(title?.length > 0) {\r\n            setIsNameInvalid(false);\r\n        }else{\r\n            setIsNameInvalid(true);\r\n        }\r\n    }\r\n\r\n    const onSave = (selectedRows) =>{\r\n        if (selectedRows.length === 0) {\r\n            doSave();\r\n        } else {\r\n            setShowOverwrite(true);\r\n        }\r\n    }\r\n\r\n    const doSave = () =>{\r\n        dispatch(saveTable({\r\n            tableId: selectedTableDef.id,\r\n            tableTitle: selectedTableDef.title,\r\n            tableDefRows: tableDefRows\r\n        }))\r\n        setShowOverwrite(false);\r\n        handleClose();\r\n    }\r\n\r\n    const handleConfirmStatus = () => {\r\n        dispatch(saveStatusConfirmed());\r\n    };\r\n\r\n    const displaySaveStatusMsg = (statusMsg) => {\r\n       return ( <Dialog\r\n            open={true}\r\n            onClose={handleConfirmStatus}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n                {\"Data Request\"}\r\n            </DialogTitle>\r\n            <DialogContent dividers>\r\n                <DialogContentText id=\"alert-dialog-description\">\r\n                    {statusMsg}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"contained\" autoFocus onClick={handleConfirmStatus}>\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n       )\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (open) {\r\n            dispatch(listTables());\r\n        }\r\n    }, [open]);\r\n\r\n    useEffect(() => {\r\n            selectIfNameExists(enteredTitle);\r\n    }, [selectedTableDef]);\r\n    return (\r\n    <div>\r\n        <Dialog\r\n            className={\"ModalDialog\"}\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"modal-title\"\r\n            aria-describedby=\"modal-description\"\r\n            fullWidth={true}\r\n            maxWidth={'xl'}\r\n        >\r\n            <DialogTitle id=\"modal-title\" variant=\"h6\" component=\"h2\">\r\n                Save Table Definition\r\n            </DialogTitle>\r\n            <DialogContent className={\"ModalDialogContent\"}>\r\n                <DialogContentText className={\"ModalDialogContentText\"}>\r\n                    <Typography id=\"modal-description\">\r\n                        Enter a table definition name to save as or select from the list to overwrite.\r\n                    </Typography>\r\n                </DialogContentText>\r\n                <Box\r\n                    className = {\"modalDefListBox\"}\r\n                    sx={{ flexGrow: 1, display: 'flex', boxShadow: 2 }}\r\n                >\r\n                    <Tabs\r\n                        orientation=\"vertical\"\r\n                        value={1}\r\n                        aria-label=\"Table Definition Folders\"\r\n                        sx={{ borderRight: 1, borderColor: 'divider'}}\r\n                    >\r\n                        <Tab label=\"Shared Tables\" {...addtlProps(0)} sx={{textDecoration:\"line-through\"}}/>\r\n                        <Tab label=\"My Tables\" {...addtlProps(1)} />\r\n                    </Tabs>\r\n                    <TabPanel\r\n                        value={1}\r\n                        index={0}\r\n                        className={'modalTabPanel'}\r\n                    >\r\n                    </TabPanel>\r\n                    <TabPanel\r\n                        value={1}\r\n                        index={1}\r\n                        className={'modalTabPanel'}\r\n                        height={260}\r\n                    >\r\n                        <TableListing\r\n                            id={\"saveModalDefTableLocal\"}\r\n                            rows={userRows}\r\n                            canRename={false}\r\n                            onSelect={onRowSelect}\r\n                            selectionModel={selectedRows}\r\n                        />\r\n                    </TabPanel>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions  className={\"ModalDialogActions\"}>\r\n                <TextField\r\n                    required\r\n                    size='small'\r\n                    id=\"TableDefName\"\r\n                    label=\"Save Table Definition As\"\r\n                    value={enteredTitle}\r\n                    onChange={onNameChange}\r\n                    error={isNameInvalid}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    inputProps={{ maxLength: 255 }}\r\n                    sx={{float: \"left\", width:\"60%\", position:\"absolute\", left:32}}\r\n                />\r\n                <Button variant=\"outlined\" onClick={handleClose}>Cancel</Button>\r\n                <Button variant=\"contained\" onClick={()=>onSave(selectedRows)} disabled={isNameInvalid}>Save</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        <Dialog\r\n            open={showOverwrite}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"modal-modal-title\"\r\n            aria-describedby=\"modal-modal-description\"\r\n        >\r\n            <DialogTitle>\r\n                <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n                    Overwrite Existing Table\r\n                </Typography>\r\n            </DialogTitle>\r\n            <DialogContent dividers>\r\n                <Box>\r\n                    <Typography id=\"modal-modal-description\" sx={{mt: 2}} align='center'>\r\n                        <div>You are about to overwrite an existing table with the same name.</div>\r\n                        <div>Are you sure you want to do this?</div>\r\n                    </Typography>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button variant=\"outlined\" onClick={()=>setShowOverwrite(false)}>No</Button>\r\n                <Button variant=\"contained\" onClick={()=>doSave()}>Yes</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        {saveTableInfo.statusInfo.status === \"SUCCESS\" && displaySaveStatusMsg(\"Saved table\")}\r\n        {saveTableInfo.statusInfo.status === \"FAIL\" && displaySaveStatusMsg(saveTableInfo.statusInfo.errorMessage)}\r\n    </div>\r\n);\r\n}\r\n","import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Tabs from \"@mui/material/Tabs\";\r\nimport Tab from \"@mui/material/Tab\";\r\nimport {DefineTable} from \"../DefineTable\";\r\nimport {CustomTabPanel} from \"./CustomTabPanel\";\r\nimport {MakeRequest} from \"../MakeRequest\";\r\nimport {PreviewTable} from \"../PreviewTable\";\r\nimport Stack from \"@mui/material/Stack\";\r\n\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport Alert from '@mui/material/Alert';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport CloudUploadSharpIcon from '@mui/icons-material/CloudUploadSharp';\r\nimport CloudDownloadSharpIcon from '@mui/icons-material/CloudDownloadSharp';\r\nimport {LoadTableModal} from \"../LoadTableModal\";\r\nimport {SaveTableModal} from \"../SaveTableModal\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nexport const DataExport = () => {\r\n    const [selectedTab, setSelectedTab] = React.useState(0);\r\n    const handleTabChange = (event, newTab) => {\r\n        if (tableDefRows.filter((x)=> x.name.trim().length === 0).length > 0) {\r\n            handleSnackbarOpen('Please fix the errors in the table definition.');\r\n        } else {\r\n            if (newTab === 0) {\r\n                document.querySelector(\"#save-load\").style.display = \"\";\r\n            } else {\r\n                document.querySelector(\"#save-load\").style.display = \"none\";\r\n            }\r\n            setSelectedTab(newTab);\r\n        }\r\n    };\r\n\r\n    const tabProps= (index) => {\r\n        return {\r\n            id: `simple-tab-${index}`,\r\n            'aria-controls': `simple-tabpanel-${index}`,\r\n        };\r\n    }\r\n\r\n\r\n    const [showLoad, setLoadViz] = React.useState(false);\r\n    const handleLoadOpen = () => setLoadViz(true);\r\n    const handleLoadClose = () => setLoadViz(false);\r\n    const [showSave, setSaveViz] = React.useState(false);\r\n    const handleSaveOpen = () => {\r\n        if (tableDefRows.filter((x)=> x.name.trim().length === 0).length > 0) {\r\n            handleSnackbarOpen('Please fix the errors in the table definition.');\r\n        } else {\r\n            setSaveViz(true);\r\n        }\r\n    }\r\n    const handleSaveClose = () => setSaveViz(false);\r\n\r\n    const tableDefRows = useSelector((state) => state.tableDef.rows);\r\n    const [snackbarShown, setSnackbarViz] = React.useState(false);\r\n    const [snackbarMsg, setSnackbarMsg] = React.useState('');\r\n    const handleSnackbarOpen = (msg) => {\r\n        setSnackbarMsg(msg);\r\n        setSnackbarViz(true);\r\n    }\r\n    const handleSnackbarClose = () => { setSnackbarViz(false); }\r\n\r\n    return (\r\n        <Box sx={{ width: '100%' }}>\r\n            <Snackbar\r\n                anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n                open={snackbarShown}\r\n                onClose={handleSnackbarClose}\r\n                autoHideDuration={5000}\r\n                key={'topcenter'}\r\n            >\r\n                <Alert\r\n                    onClose={handleSnackbarClose}\r\n                    severity=\"error\"\r\n                    variant=\"filled\"\r\n                    sx={{ width: '100%' }}\r\n                >\r\n                    {snackbarMsg}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                <AppBar color=\"default\" sx={{ position:'fixed' }}>\r\n                    <Tabs value={selectedTab} onChange={handleTabChange} aria-label=\"basic tabs example\">\r\n                        <Tab label=\"Design Table\" {...tabProps(0)} />\r\n                        <Tab label=\"Preview Table\" {...tabProps(1)} />\r\n                        <Tab label=\"Select Participants for Table\" {...tabProps(2)} />\r\n                    </Tabs>\r\n                    <Stack direction=\"row\" spacing={0} sx={{position:\"fixed\", right:\"1rem\", marginTop:\"-4px\"}} id=\"save-load\">\r\n                        <IconButton aria-label=\"Load Export Definition\" size=\"large\" onClick={handleLoadOpen}  sx={{ \"&:hover\": {color:'rgb(85, 108, 214)'}, transition:\"color\" }}>\r\n                            <CloudDownloadSharpIcon fontSize=\"inherit\" />\r\n                            <span className='icon-text'>Load</span>\r\n                        </IconButton>\r\n                        <IconButton aria-label=\"Save Definition\" size=\"large\" onClick={handleSaveOpen} sx={{ \"&:hover\": {color:'rgb(85, 108, 214)', transition:\"color\"} }}>\r\n                            <CloudUploadSharpIcon fontSize=\"inherit\" />\r\n                            <span className='icon-text'>Save</span>\r\n                        </IconButton>\r\n                    </Stack>\r\n                </AppBar>\r\n            </Box>\r\n            <CustomTabPanel value={selectedTab} index={0}>\r\n                <DefineTable tabChanger={handleTabChange}/>\r\n            </CustomTabPanel>\r\n            <CustomTabPanel value={selectedTab} index={1}>\r\n                <PreviewTable tabChanger={handleTabChange}/>\r\n            </CustomTabPanel>\r\n            <CustomTabPanel value={selectedTab} index={2}>\r\n                <MakeRequest/>\r\n            </CustomTabPanel>\r\n\r\n            <LoadTableModal handleClose={handleLoadClose} open={showLoad} handleSetScreen={setSelectedTab} />\r\n            <SaveTableModal handleClose={handleSaveClose} open={showSave} />\r\n        </Box>\r\n    )\r\n};\r\n","import { takeLatest, put} from \"redux-saga/effects\";\r\nimport {loadTableSuccess, loadTableError} from \"../reducers/loadTableSlice\";\r\n\r\nimport {\r\n    LOAD_DATA_TABLE\r\n} from \"../actions\";\r\n/* global i2b2 */\r\n\r\nexport function* doLoadTable(action) {\r\n    let tableListing  = action.payload;\r\n\r\n    try {\r\n        // You can also export the axios call as a function.\r\n\r\n        let formdata = new FormData();\r\n        formdata.append('uid',i2b2.model.user);\r\n        formdata.append('pid',i2b2.model.project);\r\n        formdata.append('sid',i2b2.model.session);\r\n        formdata.append('tid', tableListing.id);\r\n        formdata.append('fid','get_table');\r\n\r\n        const fetchConfig = {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            body: formdata\r\n        };\r\n\r\n        const response = yield fetch(i2b2.model.endpointUrl, fetchConfig);\r\n\r\n        if(response.ok) {\r\n            let data = yield response.json();\r\n            if(data.error){\r\n                let error = data.error;\r\n                if(error && error.length === 0 ) {\r\n                    error = \"There was an error loading the table\"\r\n                }\r\n                console.error(\"Error loading table! Message: \" + error);\r\n                yield put(loadTableError({errorMessage: error}));\r\n            }\r\n            else{\r\n                yield put(loadTableSuccess(data));\r\n            }\r\n        }else{\r\n            console.error(\"Error saving table! Status code: \" + response.status + \"Message: \" + response.statusText);\r\n            yield put(loadTableError({errorMessage: \"There was an error loading the table definition \" + tableListing.title}));\r\n        }\r\n    } catch (error) {\r\n        console.log(\"Caught load table error \" + error);\r\n        yield put(loadTableError({errorMessage: \"There was an error loading the table definition \" + tableListing.title}));\r\n    }\r\n}\r\n\r\n\r\nexport function* loadTableSaga() {\r\n    yield takeLatest(LOAD_DATA_TABLE, doLoadTable);\r\n}\r\n","import { takeLatest, put} from \"redux-saga/effects\";\r\nimport {saveTableSuccess, saveTableError} from \"../reducers/saveTableSlice\";\r\n\r\nimport {\r\n    SAVE_DATA_TABLE\r\n} from \"../actions\";\r\n/* global i2b2 */\r\n\r\n\r\nconst transformTableDef = (tableDefRows) => {\r\n    let requiredRows = {};\r\n    let concepts = [];\r\n\r\n    let index=0;\r\n    tableDefRows.forEach(row => {\r\n        if(row.required){\r\n            requiredRows[row.id] = {\r\n                name: row.name,\r\n                display: row.display,\r\n                locked: row.locked\r\n            }\r\n        }\r\n        else{\r\n            concepts.push({\r\n                index: index,\r\n                dataOption: row.dataOption,\r\n                textDisplay: row.name,\r\n                locked: false,\r\n                sdxData: row.sdxData\r\n            });\r\n            index++;\r\n        }\r\n    });\r\n\r\n    const newTdef = {\r\n        required: requiredRows,\r\n        concepts: concepts,\r\n    }\r\n\r\n    return newTdef;\r\n}\r\n\r\nexport function* doSaveTable(action) {\r\n    let { tableId, tableTitle, tableDefRows } = action.payload;\r\n\r\n    try {\r\n        let transformedTableDef = transformTableDef(tableDefRows);\r\n        transformedTableDef.title = tableTitle;\r\n        let formdata = new FormData();\r\n\r\n        formdata.append('uid',i2b2.model.user);\r\n        formdata.append('pid',i2b2.model.project);\r\n        formdata.append('sid',i2b2.model.session);\r\n        formdata.append('tdef', JSON.stringify(transformedTableDef));\r\n        formdata.append('fid','save_table');\r\n\r\n        if(tableId) {\r\n            formdata.append('tid',tableId);\r\n        }\r\n\r\n        const fetchConfig = {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            body: formdata\r\n        };\r\n\r\n        const response = yield fetch(i2b2.model.endpointUrl, fetchConfig);\r\n        if(response.ok) {\r\n            const data = yield response.json();\r\n            if(!data.success){\r\n                let error = data.error;\r\n                if(error && error.length === 0 ) {\r\n                    error = \"There was an error saving the table\"\r\n                }\r\n                console.error(\"Error saving table! Message: \" + error);\r\n                yield put(saveTableError({errorMessage: error}));\r\n            }\r\n            else{\r\n                yield put(saveTableSuccess());\r\n            }\r\n        }else{\r\n            console.error(\"Error saving table! Status code: \" + response.status + \"Message: \" + response.statusText);\r\n            yield put(saveTableError({errorMessage: \"There was an error saving the table\"}));\r\n        }\r\n    } catch (error) {\r\n        yield put(saveTableError({errorMessage: \"There was an error saving the data table\"}));\r\n    }\r\n}\r\n\r\n\r\nexport function* saveTableSaga() {\r\n    yield takeLatest(SAVE_DATA_TABLE, doSaveTable);\r\n}\r\n","/* globals i2b2 */\r\n\r\nimport { takeLatest, put} from \"redux-saga/effects\";\r\nimport {listTablesSuccess, listTablesError} from \"../reducers/listTablesSlice\";\r\nimport { DateTime } from \"luxon\";\r\n\r\nimport {\r\n    LIST_TABLES\r\n} from \"../actions\";\r\n\r\nconst parseData = (tableList) => {\r\n    let results = {};\r\n    results.sharedRows = tableList.tables.filter(p => p.shared).map(p => {\r\n        p.create_date = DateTime.fromISO(p.create_date).toJSDate();\r\n        p.edit_date = DateTime.fromISO(p.edit_date).toJSDate();\r\n        return p;\r\n    });\r\n    results.userRows = tableList.tables.filter(p => !p.shared).map(p => {\r\n        p.create_date = DateTime.fromISO(p.create_date).toJSDate();\r\n        p.edit_date = DateTime.fromISO(p.edit_date).toJSDate();\r\n        return p;\r\n    });\r\n    return results;\r\n}\r\n\r\nexport function* doListTables(action) {\r\n    try {\r\n        // You can also export the axios call as a function.\r\n        let formdata = new FormData();\r\n        formdata.append('uid',i2b2.model.user);\r\n        formdata.append('pid',i2b2.model.project);\r\n        formdata.append('sid',i2b2.model.session);\r\n        formdata.append('fid','get_tables');\r\n        const response = yield fetch(i2b2.model.endpointUrl, {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            body: formdata\r\n        });\r\n        if (response.ok) {\r\n            const data = parseData(yield response.json());\r\n            i2b2.model.tableList = data;\r\n            i2b2.state.save();\r\n            yield put(listTablesSuccess(data));\r\n        } else {\r\n            yield put(listTablesError({errorMessage: \"There was an error retrieving the list of tables\"}));\r\n        }\r\n    } catch (error) {\r\n        yield put(listTablesError({errorMessage: \"There was an error retrieving the list of tables\"}));\r\n    }\r\n}\r\n\r\n\r\nexport function* listTablesSaga() {\r\n    yield takeLatest(LIST_TABLES, doListTables);\r\n}","import { takeLatest, put} from \"redux-saga/effects\";\r\nimport {makeRequestSuccess, makeRequestError} from \"../reducers/makeRequestSlice\";\r\nimport {\r\n    MAKE_REQUEST\r\n} from \"../actions\";\r\n/* global i2b2 */\r\n\r\nconst transformTableDef = (tableDefRows) => {\r\n    let requiredRows = {};\r\n    let concepts = [];\r\n\r\n    let index=0;\r\n    tableDefRows.forEach(row => {\r\n       if(row.required){\r\n           requiredRows[row.id] = {\r\n                name: row.name,\r\n               display: row.display,\r\n               locked: row.locked\r\n           }\r\n       }\r\n       else{\r\n           concepts.push({\r\n               index: index,\r\n               dataOption: row.dataOptions,\r\n               textDisplay: row.name,\r\n               locked: false,\r\n               sdxData: row.sdxData\r\n           });\r\n           index++;\r\n       }\r\n    });\r\n\r\n    const newTdef = {\r\n        required: requiredRows,\r\n        concepts: concepts,\r\n    }\r\n\r\n    return newTdef;\r\n}\r\nexport function* doMakeRequest(action) {\r\n    let { makeRequestDetails, tableDefRows } = action.payload;\r\n\r\n    const metadata = {\r\n        email: makeRequestDetails.email,\r\n        comments: makeRequestDetails.comments\r\n    }\r\n\r\n    try {\r\n        let formdata = new FormData();\r\n        formdata.append('uid',i2b2.model.user);\r\n        formdata.append('pid',i2b2.model.project);\r\n        formdata.append('sid',i2b2.model.session);\r\n        formdata.append('tdef', JSON.stringify(transformTableDef(tableDefRows)));\r\n        formdata.append('pset', JSON.stringify(makeRequestDetails.patientSet));\r\n        formdata.append('metadata', JSON.stringify(metadata));\r\n        formdata.append('fid','make_request');\r\n\r\n        const fetchConfig = {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            body: formdata\r\n        };\r\n\r\n        const response = yield fetch(i2b2.model.endpointUrl, fetchConfig);\r\n        if(response.ok) {\r\n            const data = yield response.json();\r\n            if(!data.success){\r\n                let error = data.error;\r\n                if(error && error.length === 0 ) {\r\n                    error = \"There was an error submitting request\"\r\n                }\r\n                console.error(\"Error submitting request! Message: \" + error);\r\n                yield put(makeRequestError({errorMessage: error}));\r\n            }\r\n            else{\r\n                yield put(makeRequestSuccess());\r\n            }\r\n        }else{\r\n            console.error(\"Error submitting request! Status code: \" + response.status + \"Message: \" + response.statusText);\r\n            yield put(makeRequestError({errorMessage: \"There was an error making the request\"}));\r\n        }\r\n    } catch (error) {\r\n        yield put(makeRequestError({errorMessage: \"There was an error submitting the request\"}));\r\n    }\r\n}\r\n\r\n\r\nexport function* makeRequestSaga() {\r\n    yield takeLatest(MAKE_REQUEST, doMakeRequest);\r\n}\r\n","import * as sagas from './sagas';\r\n\r\nexport const initSagas = (sagaMiddleware) => {\r\n    Object.values(sagas).forEach(sagaMiddleware.run.bind(sagaMiddleware));\r\n};\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { initSagas } from '../initSagas';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { defaultState } from '../defaultState';\r\nimport rootReducers from \"../reducers/rootReducer\";\r\n\r\nlet store;\r\n\r\nexport const getStore = () => {\r\n    if (!store) {\r\n        const sagaMiddleware = createSagaMiddleware();\r\n\r\n        store = configureStore({\r\n            reducer:  rootReducers,\r\n            preloadedState: defaultState,\r\n            middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(sagaMiddleware),\r\n        });\r\n\r\n        initSagas(sagaMiddleware);\r\n    }\r\n    return store;\r\n}\r\n","import loadTableReducer from './loadTableSlice';\r\nimport saveTableReducer from './saveTableSlice';\r\nimport listTablesReducer from './listTablesSlice';\r\nimport makeRequestReducer from './makeRequestSlice';\r\nimport i2b2LibLoadedReducer from './i2b2LibLoadedSlice';\r\n\r\nconst rootReducers = {\r\n    tableDef: loadTableReducer,\r\n    saveTable: saveTableReducer,\r\n    tableListing : listTablesReducer,\r\n    makeRequestDetails: makeRequestReducer,\r\n    isI2b2LibLoaded: i2b2LibLoadedReducer\r\n};\r\n\r\nexport default rootReducers;","/* global i2b2 */\r\nimport '@fontsource/roboto/300.css';\r\nimport '@fontsource/roboto/400.css';\r\nimport '@fontsource/roboto/500.css';\r\nimport '@fontsource/roboto/700.css';\r\n\r\nimport * as React from 'react';\r\nimport './App.css';\r\nimport theme from \"./theme\";\r\nimport {DataExport} from \"./components\";\r\nimport { Provider } from 'react-redux';\r\nimport {ThemeProvider} from \"@mui/material/styles\";\r\nimport { getStore } from \"./store/getStore\";\r\n\r\nimport { LocalizationProvider } from '@mui/x-date-pickers';\r\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'\r\n\r\nconst store = getStore();\r\n\r\nexport default () => {\r\n    return (\r\n        <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n            <ThemeProvider theme={theme}>\r\n                <Provider store={store}>\r\n                    <DataExport />\r\n                </Provider>\r\n            </ThemeProvider>\r\n        </LocalizationProvider>\r\n    );\r\n};\r\n\r\n\r\n// ---------------------------------------------------------------------------------------\r\nwindow.addEventListener(\"I2B2_READY\", ()=> {\r\n    // the i2b2 framework is loaded and ready (including population of i2b2.model namespace)\r\n    if (i2b2.model.tableDef === undefined) {\r\n        i2b2.model.tableDef = {};\r\n    } else {\r\n        console.log(\"load previous table state\");\r\n    }\r\n    // get the authentication info and save it to our model\r\n    i2b2.authorizedTunnel.variable[\"i2b2.PM.model.login_username\"].then((username) => {\r\n        i2b2.model.user = username;\r\n        i2b2.state.save();\r\n    });\r\n    i2b2.authorizedTunnel.variable[\"i2b2.PM.model.login_project\"].then((project) => {\r\n        i2b2.model.project = project;\r\n        i2b2.state.save();\r\n    });\r\n    i2b2.authorizedTunnel.variable[\"i2b2.PM.model.login_password\"].then((password) => {\r\n        let s = password.indexOf('SessionKey:');\r\n        let e = password.lastIndexOf('<');\r\n        i2b2.model.session = password.substr(s+11,e-s-11);\r\n        i2b2.state.save();\r\n    });\r\n\r\n    setTimeout(()=>{\r\n        const testCredentials = new Request(\"test_credentials.json\");\r\n        fetch(testCredentials)\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                i2b2.model.user = data.username;\r\n                i2b2.model.project = data.project;\r\n                i2b2.model.session = data.password;\r\n            })\r\n            .catch();\r\n    }, 200);\r\n});\r\n","import React from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nconst root = createRoot(document.getElementById('root'));\r\n\r\nroot.render(\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>,\r\n)\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n//reportWebVitals();\r\n"],"sourceRoot":""}